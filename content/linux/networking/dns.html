
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>DNS · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="monitor.html" />
    
    
    <link rel="prev" href="bridge.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    INTRODUCTION
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../">
            
                <a href="../">
            
                    
                    INFRA
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../rhel/readme.html">
            
                <a href="../rhel/readme.html">
            
                    
                    安装
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../rhel/pre-install.html">
            
                <a href="../rhel/pre-install.html">
            
                    
                    安装 DVD 制作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../rhel/install-img-usb.html">
            
                <a href="../rhel/install-img-usb.html">
            
                    
                    生成 USB 介质
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../rhel/install.html">
            
                <a href="../rhel/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="../rhel/kvm.html">
            
                <a href="../rhel/kvm.html">
            
                    
                    KVM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../basic/basic.html">
            
                <a href="../basic/basic.html">
            
                    
                    基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../basic/local-remote-login.html">
            
                <a href="../basic/local-remote-login.html">
            
                    
                    本地及远程登录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../basic/user-group.html">
            
                <a href="../basic/user-group.html">
            
                    
                    用户和组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../basic/packages-update.html">
            
                <a href="../basic/packages-update.html">
            
                    
                    软件包的安装与更新
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../basic/syslog.html">
            
                <a href="../basic/syslog.html">
            
                    
                    系统日志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../basic/ntp.html">
            
                <a href="../basic/ntp.html">
            
                    
                    NTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../basic/ex.html">
            
                <a href="../basic/ex.html">
            
                    
                    QA
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="./">
            
                <a href="./">
            
                    
                    网络
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="fundamentals.html">
            
                <a href="fundamentals.html">
            
                    
                    网络基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="ifcfg.html">
            
                <a href="ifcfg.html">
            
                    
                    网络配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="ipv6cfg.html">
            
                <a href="ipv6cfg.html">
            
                    
                    IPv6 网络配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="netns.html">
            
                <a href="netns.html">
            
                    
                    namespace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="teaming.html">
            
                <a href="teaming.html">
            
                    
                    teaming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.6" data-path="bridge.html">
            
                <a href="bridge.html">
            
                    
                    bridge
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.3.7" data-path="dns.html">
            
                <a href="dns.html">
            
                    
                    DNS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.8" data-path="monitor.html">
            
                <a href="monitor.html">
            
                    
                    网络监控
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../fs.html">
            
                <a href="../fs.html">
            
                    
                    文件系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../stoarges/readme.html">
            
                <a href="../stoarges/readme.html">
            
                    
                    存储
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../stoarges/lvm.html">
            
                <a href="../stoarges/lvm.html">
            
                    
                    LVM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" data-path="../stoarges/nfs.html">
            
                <a href="../stoarges/nfs.html">
            
                    
                    NFS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3" data-path="../stoarges/file-storage.html">
            
                <a href="../stoarges/file-storage.html">
            
                    
                    文件存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.4" data-path="../stoarges/block-storage.html">
            
                <a href="../stoarges/block-storage.html">
            
                    
                    块存储
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../security/">
            
                <a href="../security/">
            
                    
                    安全
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../security/file-permissions.html">
            
                <a href="../security/file-permissions.html">
            
                    
                    文件权限
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" data-path="../security/SELinux.html">
            
                <a href="../security/SELinux.html">
            
                    
                    SELinux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" data-path="../security/firewall.html">
            
                <a href="../security/firewall.html">
            
                    
                    防火墙
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.4" data-path="../security/openssl.html">
            
                <a href="../security/openssl.html">
            
                    
                    OpenSSL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../process/">
            
                <a href="../process/">
            
                    
                    进程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1" data-path="../process/management.html">
            
                <a href="../process/management.html">
            
                    
                    进程管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.2" data-path="../process/service.html">
            
                <a href="../process/service.html">
            
                    
                    服务管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.3" data-path="../process/schedule.html">
            
                <a href="../process/schedule.html">
            
                    
                    周期性运行进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.4" data-path="../process/bash.html">
            
                <a href="../process/bash.html">
            
                    
                    bash
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../svc/">
            
                <a href="../svc/">
            
                    
                    常用服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1" data-path="../svc/openssh.html">
            
                <a href="../svc/openssh.html">
            
                    
                    OpenSSH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.2" data-path="../svc/postfix.html">
            
                <a href="../svc/postfix.html">
            
                    
                    Email
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.3" data-path="../svc/mariadb.html">
            
                <a href="../svc/mariadb.html">
            
                    
                    MariaDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.4" data-path="../svc/httpd.html">
            
                <a href="../svc/httpd.html">
            
                    
                    HTTPD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.5" data-path="../svc/zabbix.html">
            
                <a href="../svc/zabbix.html">
            
                    
                    Zabbix
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../perf/">
            
                <a href="../perf/">
            
                    
                    性能调优
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../docker/docker.html">
            
                <a href="../../docker/docker.html">
            
                    
                    DOCKER
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../docker/svc/svc.html">
            
                <a href="../../docker/svc/svc.html">
            
                    
                    容器化服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../docker/svc/mysql.html">
            
                <a href="../../docker/svc/mysql.html">
            
                    
                    mysql
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../../docker/svc/httpd.html">
            
                <a href="../../docker/svc/httpd.html">
            
                    
                    httpd
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../docker/container.html">
            
                <a href="../../docker/container.html">
            
                    
                    容器管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../docker/images.html">
            
                <a href="../../docker/images.html">
            
                    
                    容器镜像
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../openshift/openshift.html">
            
                <a href="../../openshift/openshift.html">
            
                    
                    OPENSHIFT
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../openshift/concepts/">
            
                <a href="../../openshift/concepts/">
            
                    
                    概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../openshift/install/">
            
                <a href="../../openshift/install/">
            
                    
                    安装
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../openshift/install/yum.html">
            
                <a href="../../openshift/install/yum.html">
            
                    
                    本地 yum 源配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../openshift/install/docker-dist.html">
            
                <a href="../../openshift/install/docker-dist.html">
            
                    
                    本地 docker 镜像仓库配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../openshift/install/dns.html">
            
                <a href="../../openshift/install/dns.html">
            
                    
                    DNS 服务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../../openshift/install/pre-install.html">
            
                <a href="../../openshift/install/pre-install.html">
            
                    
                    前续安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="../../openshift/install/install.html">
            
                <a href="../../openshift/install/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="../../openshift/install/post-install.html">
            
                <a href="../../openshift/install/post-install.html">
            
                    
                    后续安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.7" data-path="../../openshift/install/add-nodes.html">
            
                <a href="../../openshift/install/add-nodes.html">
            
                    
                    节点扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.8" data-path="../../openshift/install/qa.html">
            
                <a href="../../openshift/install/qa.html">
            
                    
                    常见问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../openshift/advanced-deployment.html">
            
                <a href="../../openshift/advanced-deployment.html">
            
                    
                    高级部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../openshift/devops.html">
            
                <a href="../../openshift/devops.html">
            
                    
                    DEVOPS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../../openshift/secure.html">
            
                <a href="../../openshift/secure.html">
            
                    
                    安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../../openshift/samples/samples.html">
            
                <a href="../../openshift/samples/samples.html">
            
                    
                    示例
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.6.1" data-path="../../openshift/samples/rc.html">
            
                <a href="../../openshift/samples/rc.html">
            
                    
                    RC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.2" data-path="../../openshift/samples/dc.html">
            
                <a href="../../openshift/samples/dc.html">
            
                    
                    DC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.3" data-path="../../openshift/samples/s2i.html">
            
                <a href="../../openshift/samples/s2i.html">
            
                    
                    S2I
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.4" data-path="../../openshift/samples/configmap.html">
            
                <a href="../../openshift/samples/configmap.html">
            
                    
                    ConfigMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.5" data-path="../../openshift/samples/elastic-spark.html">
            
                <a href="../../openshift/samples/elastic-spark.html">
            
                    
                    elasticsearch and spark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.6" data-path="../../openshift/samples/vdb-data-svc.html">
            
                <a href="../../openshift/samples/vdb-data-svc.html">
            
                    
                    Teiid Data Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../../openshift/labs/">
            
                <a href="../../openshift/labs/">
            
                    
                    LABS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1" data-path="../../openshift/labs/sdn.html">
            
                <a href="../../openshift/labs/sdn.html">
            
                    
                    Software-Defined Networking
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.2" data-path="../../openshift/labs/edge-route.html">
            
                <a href="../../openshift/labs/edge-route.html">
            
                    
                    Route
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.3" data-path="../../openshift/labs/web-console.html">
            
                <a href="../../openshift/labs/web-console.html">
            
                    
                    Web Console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.4" data-path="../../openshift/labs/projects-accounts.html">
            
                <a href="../../openshift/labs/projects-accounts.html">
            
                    
                    项目用户安全管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.5" data-path="../../openshift/labs/secure-secrets.html">
            
                <a href="../../openshift/labs/secure-secrets.html">
            
                    
                    数据库连接信息保护
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.6" data-path="../../openshift/labs/db-persist.html">
            
                <a href="../../openshift/labs/db-persist.html">
            
                    
                    持久化数据库存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.7" data-path="../../openshift/labs/wordpress.html">
            
                <a href="../../openshift/labs/wordpress.html">
            
                    
                    部署 wordpress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.8" data-path="../../openshift/labs/scaling.html">
            
                <a href="../../openshift/labs/scaling.html">
            
                    
                    扩展应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.9" data-path="../../openshift/labs/009.html">
            
                <a href="../../openshift/labs/009.html">
            
                    
                    Horizontal Auto Scaling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.10" data-path="../../openshift/labs/010.html">
            
                <a href="../../openshift/labs/010.html">
            
                    
                    Blue-Green Deployments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.11" data-path="../../openshift/labs/011.html">
            
                <a href="../../openshift/labs/011.html">
            
                    
                    SCM Web Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.12" data-path="../../openshift/labs/012.html">
            
                <a href="../../openshift/labs/012.html">
            
                    
                    Rollback Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.13" data-path="../../openshift/labs/013.html">
            
                <a href="../../openshift/labs/013.html">
            
                    
                    Code Promotion across Environments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.14" data-path="../../openshift/labs/014.html">
            
                <a href="../../openshift/labs/014.html">
            
                    
                    JBoss Developer Studio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.15" data-path="../../openshift/labs/015.html">
            
                <a href="../../openshift/labs/015.html">
            
                    
                    Deploy a SpringBoot Application
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../../openshift/case.html">
            
                <a href="../../openshift/case.html">
            
                    
                    用例
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../ansible/">
            
                <a href="../../ansible/">
            
                    
                    ANSIBLE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../ansible/basic-usage.html">
            
                <a href="../../ansible/basic-usage.html">
            
                    
                    基本使用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../jboss/readme.html">
            
                <a href="../../jboss/readme.html">
            
                    
                    APPDEV
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../jboss/api/readme.html">
            
                <a href="../../jboss/api/readme.html">
            
                    
                    API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../jboss/mesh.html">
            
                <a href="../../jboss/mesh.html">
            
                    
                    Mesh
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../../jboss/faas/openwhisk.html">
            
                <a href="../../jboss/faas/openwhisk.html">
            
                    
                    Serverless
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../../jboss/rhte18/redhat-msa.html">
            
                <a href="../../jboss/rhte18/redhat-msa.html">
            
                    
                    微服务及红帽产品集成实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" >
            
                <a target="_blank" href="http://ksoong.org/drools-examples/content/">
            
                    
                    规则引擎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../../jboss/datavirt/datavirt.html">
            
                <a href="../../jboss/datavirt/datavirt.html">
            
                    
                    数据虚拟化
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.6.1" data-path="../../jboss/datavirt/software-list.html">
            
                <a href="../../jboss/datavirt/software-list.html">
            
                    
                    软件版本号对照表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.2" data-path="../../jboss/datavirt/changelog.html">
            
                <a href="../../jboss/datavirt/changelog.html">
            
                    
                    修订记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.3" data-path="../../jboss/datavirt/download.html">
            
                <a href="../../jboss/datavirt/download.html">
            
                    
                    下载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.4" data-path="../../jboss/datavirt/install.html">
            
                <a href="../../jboss/datavirt/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.5" data-path="../../jboss/datavirt/start.html">
            
                <a href="../../jboss/datavirt/start.html">
            
                    
                    启动
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.6" data-path="../../jboss/datavirt/deploy-vdbs.html">
            
                <a href="../../jboss/datavirt/deploy-vdbs.html">
            
                    
                    部署测试 VDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.7" data-path="../../jboss/datavirt/meta.html">
            
                <a href="../../jboss/datavirt/meta.html">
            
                    
                    元数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6.8" data-path="../../jboss/datavirt/jbds-jdv.html">
            
                <a href="../../jboss/datavirt/jbds-jdv.html">
            
                    
                    JBDS 创建虚拟数据库操作示例
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../../jboss/amq/amq.html">
            
                <a href="../../jboss/amq/amq.html">
            
                    
                    A-MQ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.7.1" data-path="../../jboss/amq/streams.html">
            
                <a href="../../jboss/amq/streams.html">
            
                    
                    AMQ Streams
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7.2" data-path="../../jboss/amq/install.html">
            
                <a href="../../jboss/amq/install.html">
            
                    
                    AMQ 6.3 安装测试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../../jboss/fuse/">
            
                <a href="../../jboss/fuse/">
            
                    
                    Fuse
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.8.1" data-path="../../jboss/fuse/fuse-install.html">
            
                <a href="../../jboss/fuse/fuse-install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.2" data-path="../../jboss/fuse/fuse-online.html">
            
                <a href="../../jboss/fuse/fuse-online.html">
            
                    
                    Fuse Online
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.3" data-path="../../jboss/fuse/fuse-all-in-one.html">
            
                <a href="../../jboss/fuse/fuse-all-in-one.html">
            
                    
                    BRMS & JDV & Mariadb & REST & FTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.4" data-path="../../jboss/fuse/camel-maximo-sap.html">
            
                <a href="../../jboss/fuse/camel-maximo-sap.html">
            
                    
                    IBM Maximo SAP Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.5" data-path="../../jboss/fuse/getstart.html">
            
                <a href="../../jboss/fuse/getstart.html">
            
                    
                    FIS Get Starts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.8.5.1" data-path="../../jboss/fuse/gs-fis-rest.html">
            
                <a href="../../jboss/fuse/gs-fis-rest.html">
            
                    
                    REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.5.2" data-path="../../jboss/fuse/gs-data-transformation.html">
            
                <a href="../../jboss/fuse/gs-data-transformation.html">
            
                    
                    Transformation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.5.3" data-path="../../jboss/fuse/gs-fis-soap2rest.html">
            
                <a href="../../jboss/fuse/gs-fis-soap2rest.html">
            
                    
                    SOAP TO REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.5.4" data-path="../../jboss/fuse/sso-3scale.html">
            
                <a href="../../jboss/fuse/sso-3scale.html">
            
                    
                    3Scale & SSO on OpenShift
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.8.6" data-path="../../jboss/fuse/camel-cbr.html">
            
                <a href="../../jboss/fuse/camel-cbr.html">
            
                    
                    Camel Content-Based Router
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.7" data-path="../../jboss/fuse/camel-eips.html">
            
                <a href="../../jboss/fuse/camel-eips.html">
            
                    
                    Camel EIPs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8.8" data-path="../../jboss/fuse/camel-errorhandler.html">
            
                <a href="../../jboss/fuse/camel-errorhandler.html">
            
                    
                    Dead Letter Channel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="../../jboss/bpm/bpm.html">
            
                <a href="../../jboss/bpm/bpm.html">
            
                    
                    BPM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.9.1" data-path="../../jboss/bpm/install.html">
            
                <a href="../../jboss/bpm/install.html">
            
                    
                    安装测试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="../../jboss/secure/">
            
                <a href="../../jboss/secure/">
            
                    
                    安全
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../solutions/">
            
                <a href="../../solutions/">
            
                    
                    SOLUTIONS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../solutions/abc-distribute-arch.html">
            
                <a href="../../solutions/abc-distribute-arch.html">
            
                    
                    核心银行系统分布式架构转型
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../about/">
            
                <a href="../../about/">
            
                    
                    BUSINESS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../about/it-professions.html">
            
                <a href="../../about/it-professions.html">
            
                    
                    PROFESSIONS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../about/softskills.html">
            
                <a href="../../about/softskills.html">
            
                    
                    SKILLS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >DNS</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="dns">DNS</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#__">&#x57FA;&#x672C;&#x6982;&#x5FF5;</a>
<ul class="sectlevel2">
<li><a href="#_why_do_we_need_dns">Why do we need DNS?</a></li>
<li><a href="#__dns">&#x4EC0;&#x4E48;&#x662F; DNS</a></li>
<li><a href="#_dns_zones">DNS Zones</a></li>
<li><a href="#_dns">DNS &#x670D;&#x52A1;&#x5668;&#x79CD;&#x7C7B;</a></li>
<li><a href="#___2">&#x57DF;&#x540D;&#x67E5;&#x8BE2;&#x89E3;&#x6790;</a></li>
<li><a href="#_dns_and_udp">DNS and UDP</a></li>
<li><a href="#_dns_rrs">DNS RRs</a></li>
<li><a href="#__dns_2">&#x516C;&#x5171; DNS &#x670D;&#x52A1;&#x5668;</a></li>
<li><a href="#_dns_registration_and_expiration">DNS Registration and Expiration</a></li>
</ul>
</li>
<li><a href="#_dns_2">DNS &#x5DE5;&#x5177;</a>
<ul class="sectlevel2">
<li><a href="#_nslookup">nslookup</a></li>
</ul>
</li>
<li><a href="#__unbound">&#x914D;&#x7F6E;&#x7BA1;&#x7406; unbound</a>
<ul class="sectlevel2">
<li><a href="#_unbound">unbound &#x57FA;&#x672C;&#x7BA1;&#x7406;&#x64CD;&#x4F5C;</a></li>
</ul>
</li>
<li><a href="#_dns_3">DNS &#x5E38;&#x89C1;&#x95EE;&#x9898;</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="__">&#x57FA;&#x672C;&#x6982;&#x5FF5;</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_why_do_we_need_dns">Why do we need DNS?</h3>
<div class="ulist">
<ul>
<li>
<p>DNS is a global and highly distributed network service that resolves strings of letters into IP address for you.</p>
</li>
<li>
<p>A domain name is just the term we use for something that can be resolved by DNS.</p>
</li>
<li>
<p><a href="https://www.icann.org/" target="_blank">ICANN</a> is responsible for DNS at a global level.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="__dns">&#x4EC0;&#x4E48;&#x662F; DNS</h3>
<div class="paragraph">
<p>DNS &#x82F1;&#x6587;&#x5168;&#x79F0; <strong>Domain Name System</strong>&#xFF0C;&#x5373;&#x57DF;&#x540D;&#x7CFB;&#x7EDF;&#x3002;DNS &#x662F;&#x4E00;&#x4E2A;&#x5206;&#x5C42;&#x7684;&#x547D;&#x540D;&#x7CFB;&#x7EDF;&#xFF0C;&#x5145;&#x5F53;&#x7740;&#x7F51;&#x7EDC;&#x7CFB;&#x7EDF;&#x4E3B;&#x673A;&#x548C;&#x8D44;&#x6E90;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x4FE1;&#x606F;&#x662F;&#x5C06;&#x7F51;&#x7EDC;&#x540D;&#x79F0;&#x6620;&#x5C04;&#x5230;&#x903B;&#x8F91;&#x6761;&#x76EE;/&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x6570;&#x636E;&#x3002;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/dns-level.png" alt="DNS &#x5206;&#x5C42;&#x547D;&#x540D;&#x7CFB;&#x7EDF;"></span></p>
</div>
<div class="paragraph">
<p>&#x4E0A;&#x56FE;&#x4E3A;&#x4E00; DNS &#x5206;&#x5C42;&#x547D;&#x540D;&#x7CFB;&#x7EDF;&#x793A;&#x4F8B;&#xFF0C;DNS &#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x662F;&#x4EE5;&#x6839;&#x57DF;&#x540D; <code>.</code> &#x5F00;&#x59CB;&#x7684;&#xFF0C;&#x4ECE;&#x6839;&#x57DF;&#x540D;&#x5F00;&#x59CB;&#x5411;&#x4E0B;&#x4F1A;&#x6709;&#x591A;&#x4E2A;&#x5206;&#x652F;&#x53CA;&#x5B50;&#x57DF;&#x540D;&#x3002;DNS &#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x7684;&#x6BCF;&#x4E2A;&#x5C42;&#x6B21;&#x90FD;&#x662F;&#x7531; <code>.</code> &#x6765;&#x5206;&#x5F00;&#x7684;&#x3002;<code>.</code> &#x662F;&#x6700;&#x9876;&#x5C42;&#x7684;&#x6839;&#x57DF;&#x540D;&#xFF0C;com&#xFF0C;net &#x53CA; org &#x7B49;&#x57DF;&#x540D;&#x5360;&#x636E;&#x4E86;&#x5206;&#x5C42;&#x57DF;&#x540D;&#x4E2D;&#x7684;&#x7B2C;&#x4E8C;&#x7EA7;&#xFF1B;example.com&#xFF0C;redhat.com &#x7B49;&#x5360;&#x636E;&#x4E86;&#x7B2C;&#x4E09;&#x7EA7;&#xFF1B;&#x4E0A;&#x56FE;&#x4E2D; apps.example.com &#x5219;&#x662F;&#x56DB;&#x7EA7;&#x3002;</p>
</div>
<div class="paragraph">
<p>&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x7684;&#x89E3;&#x91CA; DNS &#x5206;&#x5C42;&#x7ED3;&#x6784;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x4E0B;&#x8868;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x4E09;&#x4E2A;&#x540D;&#x8BCD;&#x6709;&#x6240;&#x4E86;&#x89E3;:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">&#x540D;&#x79F0;</th>
<th class="tableblock halign-left valign-top">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#x57DF;&#x540D;(domain)</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x662F;&#x4EE5;&#x516C;&#x7528;&#x540D;&#x79F0;&#x7ED3;&#x5C3E;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x4EE3;&#x8868;DNS &#x57DF;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x6574;&#x4E2A;&#x5B50;&#x6811;&#xFF0C;&#x4F8B;&#x5982; <code>example.com</code>&#xFF0C;<code>apps.example.com</code>&#x3002;&#x6700;&#x5927;&#x53EF;&#x80FD;&#x7684;&#x57DF;&#x662F;&#x6839;&#x57DF;&#x540D; <code>.</code>&#xFF0C;&#x5176;&#x4E2D;&#x4EE3;&#x8868;&#x6574;&#x4E2A; DNS &#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x3002;</p>
</div>
<div class="paragraph">
<p>TLD(top-level domain&#xFF0C;&#x9876;&#x7EA7;&#x57DF;&#x540D;)&#x662F;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x7684;&#x57DF;&#x540D;&#xFF1B;gTLDs(gTLDs&#xFF0C;&#x901A;&#x7528;&#x9876;&#x7EA7;&#x57DF;&#x540D;)&#x662F;&#x6700;&#x521D;&#x6839;&#x636E;&#x884C;&#x4E1A;&#x5206;&#x7C7B;&#x8BBE;&#x8BA1;&#xFF0C;&#x5305;&#x62EC; <code>.com</code>&#xFF0C;<code>.net</code>&#xFF0C;<code>.edu</code>&#x7B49;&#xFF1B;ccTLDs(Country code TLDs&#xFF0C;&#x56FD;&#x5BB6;&#x4EE3;&#x7801;&#x9876;&#x7EA7;&#x57DF;&#x540D;)&#x662F;&#x6839;&#x636E;&#x56FD;&#x5BB6;&#x4EE3;&#x7801;&#x8BBE;&#x8BA1;&#xFF0C;&#x4F8B;&#x5982; <code>.cn</code>&#xFF0C;<code>.us</code>&#xFF0C;<code>.uk</code> &#x7B49;&#x3002;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#x5B50;&#x57DF;&#x540D;(subdomain)</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x4E00;&#x4E2A;&#x5B50;&#x57DF;&#x540D;&#x540C;&#x6837;&#x662F;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#xFF0C;&#x5B83;&#x662F;&#x53E6;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x7684;&#x5B50;&#x6811;&#x3002;&#x5B50;&#x57DF;&#x540D;&#x901A;&#x5E38;&#x662F;&#x5728;&#x8BA8;&#x8BBA;&#x4E24;&#x4E2A;&#x57DF;&#x540D;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x672F;&#x8BED;&#x3002;&#x4F8B;&#x5982;&#xFF0C;apps.example.com &#x662F;&#x57DF;&#x540D; example.com &#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x57DF;&#x540D;&#x3002;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#x533A;(zone)</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x4E00;&#x4E2A;&#x533A;&#x662F;&#x7279;&#x5B9A;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x76F4;&#x63A5;&#x8D1F;&#x8D23;&#x6216;&#x8BA4;&#x8BC1;&#x7684;&#x57DF;&#x540D;&#x7684;&#x4E00;&#x4E2A;&#x90E8;&#x5206;&#x3002; &#x8FD9;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x57DF;&#x540D;&#xFF0C;&#x4E5F;&#x53EF;&#x80FD;&#x53EA;&#x662F;&#x90E8;&#x5206;&#x6216;&#x5168;&#x90E8;&#x57DF;&#x540D;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x5B50;&#x57DF;&#x540D;&#x59D4;&#x6258;&#x7ED9;&#x5176;&#x4ED6;&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#x3002;</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
DNS can technically support up to 127 levels of domain in total for a single fully qualified domain name. Each individual section can only be 63 characters long and
 a complete FQDN is limited to a total of 255 characters
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_dns_zones">DNS Zones</h3>
<div class="ulist">
<ul>
<li>
<p>The purpose of DNS zones is to allow for easier control over multiple levels of a domain.</p>
</li>
<li>
<p>Zone files are simple configuration files that declare all resource records for a particular zone.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_dns">DNS &#x670D;&#x52A1;&#x5668;&#x79CD;&#x7C7B;</h3>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. <strong>Five primary types of DNS servers</strong></caption>
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">&#x540D;&#x79F0;</th>
<th class="tableblock halign-left valign-top">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;(Caching name servers)</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x5728;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x4E2D;&#x5B58;&#x50A8; DNS &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#xFF0C;&#x5E76;&#x4E14;&#x5728; TTL &#x5230;&#x671F;&#x540E;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x5220;&#x9664;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x3002;&#x901A;&#x5E38;&#x8BBE;&#x7F6E;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x4EE5;&#x4E3A;&#x672C;&#x5730;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x3002;&#x8FD9;&#x964D;&#x4F4E;&#x4E86; Internet &#x4E0A;&#x7684; DNS &#x6D41;&#x91CF;&#xFF0C;&#x4ECE;&#x800C;&#x6781;&#x5927;&#x63D0;&#x9AD8;&#x4E86; DNS &#x540D;&#x79F0;&#x89E3;&#x6790;&#x7684;&#x6548;&#x7387;&#x3002;&#x968F;&#x7740;&#x7F13;&#x5B58;&#x7684;&#x589E;&#x52A0;&#xFF0C;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x4ECE;&#x5176;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x4E2D;&#x56DE;&#x7B54;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x67E5;&#x8BE2;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x9AD8; DNS &#x6027;&#x80FD;&#x3002;</p>
</div>
<div class="paragraph">
<p>&#x9274;&#x4E8E; UDP &#x7684;&#x65E0;&#x72B6;&#x6001;&#x6027;&#x8D28;&#xFF0C;DNS &#x4E8B;&#x52A1;&#x5F88;&#x5BB9;&#x6613;&#x88AB;&#x6B3A;&#x9A97;&#x548C;&#x7BE1;&#x6539;&#x3002;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x8FC7;&#x53BB;&#x4E00;&#x76F4;&#x662F;&#x671F;&#x671B;&#x91CD;&#x5B9A;&#x5411;&#x6216;&#x52AB;&#x6301;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x7684;&#x653B;&#x51FB;&#x8005;&#x9752;&#x7750;&#x7684;&#x76EE;&#x6807;&#x3002;&#x8FD9;&#x901A;&#x5E38;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x65B9;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#xFF1A;&#x5229;&#x7528; DNS &#x670D;&#x52A1;&#x5668;&#x8F6F;&#x4EF6;&#x4E2D;&#x7684;&#x6F0F;&#x6D1E;&#x6765;&#x6B3A;&#x9A97; DNS &#x670D;&#x52A1;&#x5668;&#x63A5;&#x53D7;&#x6076;&#x610F;&#x6570;&#x636E;&#x5E76;&#x5C06;&#x5176;&#x586B;&#x5145;&#x5230;&#x5176;&#x7F13;&#x5B58;&#x4E2D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x901A;&#x5E38;&#x79F0;&#x4E3A;&#x7F13;&#x5B58;&#x4E2D;&#x6BD2;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x4E00;&#x65E6;&#x653B;&#x51FB;&#x8005;&#x6210;&#x529F;&#x4F7F; DNS &#x670D;&#x52A1;&#x5668;&#x7684;&#x7F13;&#x5B58;&#x4E2D;&#x6BD2;&#xFF0C;&#x4FBF;&#x53EF;&#x5229;&#x7528; DNS &#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x6709;&#x6548;&#x7834;&#x574F;&#x4F17;&#x591A;&#x5BA2;&#x6237;&#x7AEF;&#x6536;&#x5230;&#x7684; DNS &#x6570;&#x636E;&#xFF0C;&#x5E76;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x91CD;&#x5B9A;&#x5411;&#x6216;&#x52AB;&#x6301;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x3002;</p>
</div>
<div class="paragraph">
<p>&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x6781;&#x5927;&#x63D0;&#x9AD8;&#x672C;&#x5730;&#x7F51;&#x7EDC;&#x4E0A;&#x7684; DNS &#x6027;&#x80FD;&#xFF0C;&#x540C;&#x65F6;&#x5B83;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6267;&#x884C;&#x57DF;&#x540D;&#x7CFB;&#x7EDF;&#x5B89;&#x5168;&#x6027;&#x6269;&#x5C55; (Domain Name System Security Extensions, DNSSEC) &#x9A8C;&#x8BC1;&#x6765;&#x63D0;&#x9AD8;&#x5B89;&#x5168;&#x6027;&#x3002;&#x5728;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x542F;&#x7528;&#x7684; DNSSEC &#x9A8C;&#x8BC1;&#x53EF;&#x5728;&#x5C06;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x7F6E;&#x4E8E;&#x7F13;&#x5B58;&#x4E2D;&#x4F9B;&#x5BA2;&#x6237;&#x7AEF;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x9A8C;&#x8BC1;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x7684;&#x771F;&#x5B9E;&#x6027;&#x548C;&#x5B8C;&#x6574;&#x6027;&#xFF0C;&#x4ECE;&#x800C;&#x9632;&#x6B62;&#x5BA2;&#x6237;&#x7AEF;&#x906D;&#x53D7;&#x7F13;&#x5B58;&#x4E2D;&#x6BD2;&#x3002;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Recursive name servers</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Provided by an ISP or local network. Perform full DNS resolution requests.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Root name servers</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>13 total root name servers, what are responsible for directing queries toward the appropriate TLD name server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLD name servers</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The TLD name servers will respond again with a redirect, this time informing the computer performing the name lookup with what authoritative name server to contact.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authoritative name servers</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Authoritative name servers are responsible for the last two parts of any domain name which is the resolution at which a single organization may be responsible for DNS lookups.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title"><strong>Steps of Name Resolution</strong></div>
<p><span class="image"><img src="img/5typesdnsserverlookup.png" alt="5typesdnsserverlookup.png"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="___2">&#x57DF;&#x540D;&#x67E5;&#x8BE2;&#x89E3;&#x6790;</h3>
<div class="paragraph">
<p>&#x5F53;&#x7CFB;&#x7EDF;&#x9700;&#x8981;&#x4F7F;&#x7528; DNS &#x670D;&#x52A1;&#x5668;&#x6267;&#x884C;&#x540D;&#x79F0;&#x89E3;&#x6790;&#x65F6;&#xFF0C;&#x9996;&#x5148;&#x4F1A;&#x6309;&#x987A;&#x5E8F;&#x5411; /etc/resolv.conf &#x4E2D;&#x5217;&#x51FA;&#x7684;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x67E5;&#x8BE2;&#xFF0C;&#x76F4;&#x5230;&#x83B7;&#x5F97;&#x54CD;&#x5E94;&#x6216;&#x6240;&#x6709;&#x5217;&#x51FA;&#x7684;&#x670D;&#x52A1;&#x5668;&#x8017;&#x5C3D;&#x3002;host &#x6216; dig &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x624B;&#x52A8;&#x67E5;&#x627E; DNS &#x540D;&#x79F0;&#x3002;</p>
</div>
<div class="listingblock">
<div class="title"><strong>An example of dig</strong></div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ dig https://test.apps.example.com

; &lt;&lt;&gt;&gt; DiG 9.9.4-RedHat-9.9.4-51.el7_4.1 &lt;&lt;&gt;&gt; https://test.apps.example.com
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 44376
;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;https://test.apps.example.com.	IN	A

;; ANSWER SECTION:
https://test.apps.example.com. 0 IN	A	192.168.122.105

;; Query time: 1 msec
;; SERVER: 192.168.122.106<span class="hljs-comment">#53(192.168.122.106)</span>
;; WHEN: Sat Jan 06 17:43:43 CST 2018
;; MSG SIZE  rcvd: 63</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/anatomy-of-dns-lookup.png" alt="DNS &#x67E5;&#x8BE2;&#x89E3;&#x6790;"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>&#x4ECE; <code>/etc/resolv.conf</code> &#x83B7;&#x53D6; DNS &#x670D;&#x52A1;&#x5668;&#x7684;&#x5730;&#x5740;</p>
</li>
<li>
<p>&#x53D1;&#x9001; <code>https://example.com &#x7684; IP &#x5730;&#x5740;&#x662F;&#x591A;&#x5C11;</code> &#x8BF7;&#x6C42;&#x5230;&#x6B65;&#x9AA4;1&#x83B7;&#x53D6;&#x5230;&#x7684; DNS &#x670D;&#x52A1;&#x5668;</p>
</li>
<li>
<p>&#x67E5;&#x8BE2; <code>example.com</code> &#x662F;&#x5426;&#x5728;&#x672C;&#x5730;&#x662F;&#x6709;&#x8BA4;&#x8BC1;&#x7684;</p>
</li>
<li>
<p>&#x5982;&#x679C;&#x662F;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x5BF9;&#x5E94;&#x7684; IP &#x5730;&#x5740;&#xFF0C;&#x8DF3;&#x8FC7;&#x4EE5;&#x540E;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x76F4;&#x63A5;&#x5C06; IP &#x5730;&#x5740;&#x8FD4;&#x56DE;&#x7ED9; Client&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x4F1A;&#x6709;&#x4E00;&#x4E2A; aa &#x7684;&#x6807;&#x8BB0;&#xFF0C;&#x5373;&#x8868;&#x793A;&#x662F;&#x672C;&#x5730; authoritative answer &#x7684;&#x3002;</p>
</li>
<li>
<p>&#x5982;&#x679C; <code>example.com</code> &#x5728;&#x672C;&#x5730;&#x6CA1;&#x6709;&#x8BA4;&#x8BC1;&#xFF0C;&#x5219;&#x67E5;&#x770B; <code>example.com</code> &#x662F;&#x5426;&#x5728;&#x7F13;&#x5B58;&#x4E2D;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x8BB0;&#x5F55;</p>
</li>
<li>
<p>&#x5982;&#x679C;&#x7F13;&#x5B58;&#x5757;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; IP &#x5730;&#x5740;.&#x8DF3;&#x8FC7;&#x4EE5;&#x540E;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x76F4;&#x63A5;&#x5C06; IP &#x5730;&#x5740;&#x8FD4;&#x56DE;&#x7ED9; Client&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD4;&#x56DE;&#x6CA1;&#x6709; aa &#x6807;&#x8BB0;&#x3002;</p>
</li>
<li>
<p>&#x5982;&#x679C;&#x7F13;&#x5B58;&#x4E2D;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x5219;&#x4E00;&#x822C;&#x53D1;&#x9001;&#x7C7B;&#x4F3C; <code>.com &#x7684;&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#x662F;&#x4EC0;&#x4E48;</code> &#x7684;&#x8BF7;&#x6C42;&#x5230; TLD &#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;</p>
</li>
<li>
<p>TLD &#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x8FD4;&#x56DE;&#x7C7B;&#x4F3C; <code>example.com &#x7684;&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#x662F; dns.example.com, IP &#x5730;&#x5740;&#x4E3A; 192.168.1.255</code> &#x4FE1;&#x606F;</p>
</li>
<li>
<p>dnsA &#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#x6839;&#x636E;&#x8FD4;&#x56DE;&#x7684;&#x5730;&#x5740;&#x4FE1;&#x606F;&#xFF0C;&#x53D1;&#x9001;&#x7C7B;&#x4F3C; <code>example.com &#x7684; IP &#x5730;&#x5740;&#x662F;&#x591A;&#x5C11;</code> &#x7684;&#x8BF7;&#x6C42;&#x5230; dns.example.com</p>
</li>
<li>
<p>dns.example.com &#x670D;&#x52A1;iq&#x4F1A;&#x627E;&#x5230; example.com &#x5BF9;&#x5E94;&#x7684; IP &#x5730;&#x5740;&#xFF0C;&#x4F8B;&#x5982; 192.168.1.1&#xFF0C;&#x8FD4;&#x56DE;&#x7ED9; dnsA</p>
</li>
<li>
<p>dnsA &#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x8FD4;&#x56DE;&#x7684;&#x4FE1;&#x606F;&#x5728;&#x7F13;&#x5B58;&#x4E2D;&#x4FDD;&#x5B58;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x7ED9;Client</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_dns_and_udp">DNS and UDP</h3>
<div class="paragraph">
<p>DNS &#x5B9E;&#x73B0;&#x57FA;&#x4E8E; UDP&#x3002;</p>
</div>
</div>
<div class="sect2">
<h3 id="_dns_rrs">DNS RRs</h3>
<div class="paragraph">
<p>DNS RRs(DNS resource records, DNS &#x8D44;&#x6E90;&#x8BB0;&#x5F55;) &#x662F; DNS &#x533A;(zone) &#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x7528;&#x6765;&#x6307;&#x5B9A; DNS &#x533A;&#x4E2D;&#x7279;&#x5B9A;&#x540D;&#x79F0;&#x6216;&#x5BF9;&#x8C61;&#x7684;&#x8BE6;&#x7EC6;&#x5C5E;&#x6027;&#xFF0C;&#x4E00;&#x6761; DNS RRs &#x901A;&#x5E38;&#x5305;&#x62EC;&#x7684;&#x5C5E;&#x6027;&#x6709;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>owner-name</code> - &#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x7684;&#x540D;&#x79F0;</p>
</li>
<li>
<p><code>type</code> - &#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x7684;&#x7C7B;&#x578B;</p>
</li>
<li>
<p><code>TTL</code>&#xFF0C;- &#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x5728;&#x7F13;&#x5B58;&#x4E2D;&#x4FDD;&#x5B58;&#x7684;&#x65F6;&#x95F4;</p>
</li>
<li>
<p><code>class</code> - &#x8BE5;&#x5C5E;&#x6027;&#x957F;&#x89C1;&#x7684;&#x503C;&#x4E3A; <code>IN</code>&#xFF0C;&#x4EE3;&#x8868;&#x4E92;&#x8054;&#x7F51;</p>
</li>
<li>
<p><code>data</code> - &#x6570;&#x636E;&#x5C5E;&#x6027;&#xFF0C;&#x5E38;&#x89C1;&#x503C; IPv4 &#x5730;&#x5740;&#xFF0C; IPv6 &#x5730;&#x5740;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>&#x5E38;&#x89C1;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;&#x5BF9;&#x5E94;&#x63CF;&#x8FF0;&#x5217;&#x8868;</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">&#x7C7B;&#x578B;</th>
<th class="tableblock halign-left valign-top">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x4E3B;&#x673A;&#x540D;&#x548C; IPv4 &#x5730;&#x5740;&#x7684;&#x6620;&#x5C04;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ host -v -t A google.com
Trying <span class="hljs-string">&quot;google.com&quot;</span>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 58605
;; flags: qr rd ra; QUERY: 1, ANSWER: 6, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;google.com.			IN	A

;; ANSWER SECTION:
google.com.		220	IN	A	74.125.24.138
google.com.		220	IN	A	74.125.24.100
google.com.		220	IN	A	74.125.24.101
google.com.		220	IN	A	74.125.24.102
google.com.		220	IN	A	74.125.24.139
google.com.		220	IN	A	74.125.24.113</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AAAA(Quad A)</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x4E3B;&#x673A;&#x540D;&#x548C; IPv6 &#x5730;&#x5740;&#x7684;&#x6620;&#x5C04;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ host -v -t AAAA google.com
Trying <span class="hljs-string">&quot;google.com&quot;</span>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 44229
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;google.com.			IN	AAAA

;; ANSWER SECTION:
google.com.		145	IN	AAAA	2404:6800:4003:c03::71</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNAME</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x522B;&#x540D;&#xFF0C;&#x5C06;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x57DF;&#x540D;</p>
</div>
<div class="listingblock">
<div class="title"><strong>DNS &#x533A;&#x4E2D; CNAME &#x793A;&#x4F8B;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">NAME                    TYPE   VALUE
--------------------------------------------------
bar.example.com.        CNAME  foo.example.com.
foo.example.com.        A      192.0.2.23</code></pre>
</div>
</div>
<div class="paragraph">
<p>&#x6CE8;&#x610F;&#x4E8B;&#x9879;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CNAME &#x94FE;&#x5FC5;&#x987B;&#x8981;&#x4EE5; A &#x6216; AAAA &#x7ED3;&#x675F;</p>
</li>
<li>
<p>&#x5728; CDN &#x7F51;&#x7EDC;&#x4F7F;&#x7528; CNAME &#x94FE;&#x6765;&#x52A0;&#x5FEB;&#x4F20;&#x8F93;&#x7684;&#x53EF;&#x9760;&#x6027;&#x548C;&#x901F;&#x5EA6;</p>
</li>
<li>
<p>NS &#x548C; MX &#x7C7B;&#x578B;&#x7684;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x4E0D;&#x80FD;&#x591F;&#x6307;&#x5411; CNAME</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PTR</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>IPv4 &#x5730;&#x5740;/IPv6 &#x5730;&#x5740;&#x548C;&#x4E3B;&#x673A;&#x540D;&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x7528;&#x6765; DNS &#x53CD;&#x8F6C;&#x89E3;&#x6790;</p>
</div>
<div class="listingblock">
<div class="title"><strong>PTR IPv4 &#x5C06; IP &#x5730;&#x5740;&#x53CD;&#x8F6C;&#xFF0C;&#x4EE5; in-addr.arpa &#x7ED3;&#x675F;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ host -v -t PTR 8.8.8.8
Trying <span class="hljs-string">&quot;8.8.8.8.in-addr.arpa&quot;</span>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 64860
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;8.8.8.8.in-addr.arpa.		IN	PTR

;; ANSWER SECTION:
8.8.8.8.in-addr.arpa.	72850	IN	PTR	google-public-dns-a.google.com.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>PTR IPv6 &#x53CD;&#x8F6C;&#x4E14;&#x4EE5;&#x5341;&#x8FDB;&#x5236;&#x4E2A;&#x4F4D;&#x6570;&#x5B57;&#x8868;&#x793A;&#xFF0C;&#x4EE5; ip6.arpa &#x7ED3;&#x675F;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ host -v -t PTR 2001:4860:4860::8888
Trying <span class="hljs-string">&quot;8.8.8.8.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.6.8.4.0.6.8.4.1.0.0.2.ip6.arpa&quot;</span>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 20901
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;8.8.8.8.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.6.8.4.0.6.8.4.1.0.0.2.ip6.arpa. IN PTR

;; ANSWER SECTION:
8.8.8.8.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.6.8.4.0.6.8.4.1.0.0.2.ip6.arpa. 86400	IN PTR google-public-dns-a.google.com.</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NS</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x57DF;&#x540D;&#x548C;&#x5728; DNS zone &#x4E2D;&#x6709;&#x6388;&#x6743;&#x7684; DNS &#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6620;&#x5C04;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ host -v -t NS google.com
Trying <span class="hljs-string">&quot;google.com&quot;</span>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 44701
;; flags: qr rd ra; QUERY: 1, ANSWER: 4, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;google.com.			IN	NS

;; ANSWER SECTION:
google.com.		24431	IN	NS	ns2.google.com.
google.com.		24431	IN	NS	ns3.google.com.
google.com.		24431	IN	NS	ns1.google.com.
google.com.		24431	IN	NS	ns4.google.com.</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SOA</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x63D0;&#x4F9B;&#x4E86; DNS zone &#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x7B49;&#x4FE1;&#x606F;&#x3002;&#x4EFB;&#x610F;&#x4E00;&#x4E2A; DNS zone &#x4E2D;&#x90FD;&#x6709;&#x4E00;&#x6761; SOA &#x8BB0;&#x5F55;&#xFF0C;&#x63D0;&#x4F9B;&#x7684;&#x4FE1;&#x606F;&#x5305;&#x62EC;&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#x7684; Master &#x70B9;&#xFF0C;Salve &#x70B9;&#xFF0C;Slave &#x5982;&#x4F55;&#x540C;&#x6B65; Master &#x6570;&#x636E;&#xFF0C;&#x53CA; DNS zone &#x7684;&#x7BA1;&#x7406;&#x5951;&#x7EA6;&#x7B49;&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ host -v -t SOA google.com
Trying <span class="hljs-string">&quot;google.com&quot;</span>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 541
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;google.com.			IN	SOA

;; ANSWER SECTION:
google.com.		60	IN	SOA	ns1.google.com. dns-admin.google.com. 181070036 900 900 1800 60</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MX</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x57DF;&#x540D;&#x548C;&#x90AE;&#x4EF6;&#x4EA4;&#x6362;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x6620;&#x5C04;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ host -v -t MX mail.google.com
Trying <span class="hljs-string">&quot;mail.google.com&quot;</span>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 17580
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 0

;; QUESTION SECTION:
;mail.google.com.		IN	MX

;; ANSWER SECTION:
mail.google.com.	455795	IN	CNAME	googlemail.l.google.com.

;; AUTHORITY SECTION:
l.google.com.		43	IN	SOA	ns1.google.com. dns-admin.google.com. 181060731 900 900 1800 60</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TXT</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x540D;&#x79F0;&#x548C;&#x4EFB;&#x610F;&#x53EF;&#x8BFB;&#x6587;&#x672C;&#x4E4B;&#x95F4;&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x901A;&#x5E38;&#x7528;&#x4E8E; Sender Policy Framework (SPF)&#xFF0C;DomainKeys Identified Mail (DKIM)&#xFF0C;Domain-based Message Authentication&#xFF0C;Reporting and Conformance (DMARC)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ host -v -t TXT google.com
Trying <span class="hljs-string">&quot;google.com&quot;</span>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 55568
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;google.com.			IN	TXT

;; ANSWER SECTION:
google.com.		3600	IN	TXT	<span class="hljs-string">&quot;v=spf1 include:_spf.google.com ~all&quot;</span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SRV</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x7528;&#x6765;&#x5B9A;&#x4F4D;&#x5728;&#x4E00;&#x4E2A;&#x57DF;&#x4E2D;&#x652F;&#x6301;&#x7279;&#x5B9A;&#x670D;&#x52A1;&#x7684;&#x4E3B;&#x673A;&#x3002;SRV &#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x63D0;&#x4F9B;&#x7279;&#x6B8A;&#x670D;&#x52A1;(&#x4F8B;&#x5982; LDAP)&#x7684;&#x4E3B;&#x673A;&#x540D;&#xFF0C;&#x5305;&#x62EC;&#x670D;&#x52A1;&#x76D1;&#x542C;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x7B49;&#x3002;SRV &#x8BB0;&#x5F55;&#x4E2D;&#x5305;&#x62EC; <code>priority</code>&#xFF0C;<code>weight</code> &#x7B49;&#x5C5E;&#x6027;&#x3002;</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>&#x901A;&#x5E38;&#x4E00;&#x4E2A;&#x4E3B;&#x673A;(&#x4E0D;&#x5206;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;)&#x4F1A;&#x6709;&#x5982;&#x4E0B;&#x8BB0;&#x5F55;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761; A/AAAA &#x7C7B;&#x578B;&#x7684;&#x8BB0;&#x5F55;&#x6620;&#x5C04;&#x4E3B;&#x673A;&#x540D;&#x548C;&#x5B83;&#x7684; IP &#x5730;&#x5740;</p>
</li>
<li>
<p>&#x4E00;&#x6761; PTR &#x8BB0;&#x5F55;&#x5C06;&#x4E3B;&#x673A;&#x7684;&#x6BCF;&#x4E2A; IP &#x5730;&#x5740;&#x53CD;&#x8F6C;&#x6620;&#x5C04;&#x4E3A;&#x4E3B;&#x673A;&#x540D;</p>
</li>
<li>
<p>&#x53EF;&#x9009;&#x62E9;&#xFF0C;&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761; CNAME &#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x522B;&#x540D;&#x8BBE;&#x5B9A;&#x53CA;&#x6620;&#x5C04; A/AAAA &#x7C7B;&#x578B;&#x8BB0;&#x5F55;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#x9664;&#x4E86;&#x5982;&#x4E0A;&#x8BB0;&#x5F55;&#xFF0C;&#x4E00;&#x4E2A; DNS zone &#x4F1A;&#x6709;&#x66F4;&#x591A;&#x5982;&#x4E0B;&#x8BB0;&#x5F55;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#x4E00;&#x6761; SOA &#x8BB0;&#x5F55;&#x8BF4;&#x660E; zone &#x662F;&#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x7684;</p>
</li>
<li>
<p>&#x4E00;&#x6761; NS &#x8BB0;&#x5F55;&#x6307;&#x5411;&#x6388;&#x6743;&#x7684;&#x670D;&#x52A1;&#x5668;</p>
</li>
<li>
<p>&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761; MX &#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x57DF;&#x540D;&#x548C;&#x90AE;&#x4EF6;&#x4EA4;&#x4E92;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x7684;&#x6620;&#x5C04;</p>
</li>
<li>
<p>&#x53EF;&#x9009;&#x62E9;&#x7684;&#xFF0C;&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761; TXT &#x8BB0;&#x5F55;&#x63D0;&#x4F9B;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x670D;&#x52A1;&#xFF0C;&#x4F8B;&#x5982; SPF</p>
</li>
<li>
<p>&#x53EF;&#x9009;&#x62E9;&#x7684;&#xFF0C;&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761; SRV &#x8BB0;&#x5F55;&#x57DF;&#x4E2D;&#x672C;&#x5730;&#x670D;&#x52A1;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#x76F8;&#x5173; RFC &#x6587;&#x6863;:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="http://tools.ietf.org/html/rfc1034" target="_blank">RFC 1034: Domain names - concepts and facilities</a></p>
</li>
<li>
<p><a href="http://tools.ietf.org/html/rfc1035" target="_blank">RFC 1035: Domain names - implementation and specification</a></p>
</li>
<li>
<p><a href="http://tools.ietf.org/html/rfc2181" target="_blank">RFC 2181: Clarifications to the DNS Specification</a></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="__dns_2">&#x516C;&#x5171; DNS &#x670D;&#x52A1;&#x5668;</h3>
<div class="ulist">
<ul>
<li>
<p>An ISP almost always gives you access to a recursive name server as part of the service it provides.</p>
</li>
<li>
<p>Public DNS servers are name servers specifically set up so that anyone can use them for free.</p>
</li>
<li>
<p><strong>Level 3 communication</strong> - One of the largest ISPs in the world. The IP addresses for Level 3s public DNS servers are 4.2.2.1 through 4.2.2.6.</p>
</li>
<li>
<p><strong>Google&#x2019;s public DNS</strong> - Google operates public name servers on the IPs 8.8.8.8 and 8.8.4.4.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_dns_registration_and_expiration">DNS Registration and Expiration</h3>
<div class="paragraph">
<p><strong>Registrar</strong> - An organization responsible for assigning individual domain names to other organizations or individuals.</p>
</div>
<div class="paragraph">
<p><a href="https://godaddy.com" class="bare" target="_blank">https://godaddy.com</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dns_2">DNS &#x5DE5;&#x5177;</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_nslookup">nslookup</h3>
<div class="paragraph">
<p>Nslookup is way more powerful than just that. It includes an interactive mode that lets you set additional options and run lots of queries in a row. To start an interactive nslookup session, you just enter nslookup, without any hostname following it. You should see an angle bracket acting as your prompt. From interactive mode, you can make lots of requests in a row. You can also perform some extra configuration to help with more in-depth trouble shooting.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ nslookup google.com
Server:		10.72.17.5
Address:	10.72.17.5<span class="hljs-comment">#53</span>

Non-authoritative answer:
Name:	google.com
Address: 74.125.24.102
Name:	google.com
Address: 74.125.24.113
Name:	google.com
Address: 74.125.24.138
Name:	google.com
Address: 74.125.24.139
Name:	google.com
Address: 74.125.24.100
Name:	google.com
Address: 74.125.24.101</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__unbound">&#x914D;&#x7F6E;&#x7BA1;&#x7406; unbound</h2>
<div class="sectionbody">
<div class="paragraph">
<p>&#x5C06; unbound &#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x548C;&#x7BA1;&#x7406;&#x9700;&#x8981;&#x82E5;&#x5E72;&#x8F6F;&#x4EF6;&#x5305;&#xFF08;&#x5305;&#x62EC; bind&#x3001;dnsmasq &#x548C; unbound&#xFF09;&#xFF0C;&#x53CA;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#xFF0C;&#x5177;&#x4F53;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">&#x6B65;&#x9AA4;</th>
<th class="tableblock halign-left valign-top">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. &#x5B89;&#x88C5; unbound</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x4EE5; root &#x7528;&#x6237;&#x5B89;&#x88C5; unbound &#x8F6F;&#x4EF6;&#x5305;&#xFF1A;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># yum install -y unbound</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2. &#x542F;&#x52A8;&#x5E76;&#x542F;&#x7528; unbound.service</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># systemctl start unbound.service
# systemctl enable unbound.service</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3. &#x914D;&#x7F6E;&#x8981;&#x4FA6;&#x542C;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;unbound &#x4EC5;&#x4FA6;&#x542C; localhost &#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x3002;&#x8981;&#x4F7F; unbound &#x80FD;&#x591F;&#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x4F9B;&#x8FDC;&#x7A0B;&#x5BA2;&#x6237;&#x7AEF;&#x4F7F;&#x7528;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528; <code>/etc/unbound/unbound.conf</code> &#x7684; server &#x5B50;&#x53E5;&#x4E2D;&#x7684; <strong>interface</strong> &#x9009;&#x9879;&#x6765;&#x6307;&#x5B9A;&#x8981;&#x4FA6;&#x542C;&#x7684;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x3002;&#x503C; <code>0.0.0.0</code> &#x4F1A;&#x5C06; unbound &#x914D;&#x7F6E;&#x4E3A;&#x4FA6;&#x542C;&#x6240;&#x6709;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#xFF1A;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">interface: 0.0.0.0</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4. &#x914D;&#x7F6E;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x6743;&#x9650;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;unbound &#x4F1A;&#x62D2;&#x7EDD;&#x6765;&#x81EA;&#x6240;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x9012;&#x5F52;&#x67E5;&#x8BE2;&#x3002;&#x5728; <code>/etc/unbound/unbound.conf</code> &#x7684; server &#x5B50;&#x53E5;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528; <strong>access-control</strong> &#x9009;&#x9879;&#x6307;&#x5B9A;&#x5141;&#x8BB8;&#x54EA;&#x4E9B;&#x5BA2;&#x6237;&#x7AEF;&#x8FDB;&#x884C;&#x9012;&#x5F52;&#x67E5;&#x8BE2;&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">access-control: 172.25.0.0/24 allow</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5. &#x914D;&#x7F6E;&#x8F6C;&#x53D1;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x5728; <code>/etc/unbound/unbound.conf</code> &#x4E2D;&#xFF0C;&#x521B;&#x5EFA; forward-zone &#x5B50;&#x53E5;&#x4EE5;&#x6307;&#x5B9A;&#x8981;&#x5C06;&#x67E5;&#x8BE2;&#x8F6C;&#x53D1;&#x5230;&#x7684; DNS &#x670D;&#x52A1;&#x5668;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>forward-host</strong> &#x9009;&#x9879;&#x6309;&#x4E3B;&#x673A;&#x540D;&#x6307;&#x5B9A; DNS &#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6216;&#x8005;&#x4F7F;&#x7528; <strong>forward-addr</strong> &#x9009;&#x9879;&#x6309; IP &#x5730;&#x5740;&#x6307;&#x5B9A;&#x3002;&#x5BF9;&#x4E8E;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x901A;&#x8FC7;&#x5C06; <strong>forward-zone</strong> &#x6307;&#x5B9A;&#x4E3A; &quot;.&quot; &#x4EE5;&#x8F6C;&#x53D1;&#x6240;&#x6709;&#x67E5;&#x8BE2;&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">forward-zone:
  name: &quot;.&quot;
  forward-addr: 172.25.254.254</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6. &#x5982;&#x679C;&#x9700;&#x8981;&#xFF0C;&#x53EF;&#x5BF9;&#x7279;&#x5B9A;&#x7684;&#x672A;&#x7B7E;&#x540D;&#x533A;&#x57DF;&#x7ED5;&#x8FC7; DNSSEC &#x9A8C;&#x8BC1;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x542F;&#x7528; unbound &#x4EE5;&#x6267;&#x884C; DNSSEC &#x9A8C;&#x8BC1;&#xFF0C;&#x4EE5;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x6536;&#x5230;&#x4E86;&#x6240;&#x6709; DNS &#x54CD;&#x5E94;&#x3002;<code>/etc/unbound/unbound.conf</code> &#x7684; server &#x5B50;&#x53E5;&#x4E2D;&#x7684; <strong>domain-insecure</strong> &#x9009;&#x9879;&#x53EF;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x5E94;&#x8DF3;&#x8FC7; DNSSEC &#x9A8C;&#x8BC1;&#x7684;&#x57DF;&#x3002;&#x8FD9;&#x5728;&#x5904;&#x7406;&#x672A;&#x7B7E;&#x540D;&#x7684;&#x5185;&#x90E8;&#x57DF;&#x65F6;&#x901A;&#x5E38;&#x662F;&#x9700;&#x8981;&#x7684;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x5BFC;&#x81F4;&#x4FE1;&#x4EFB;&#x94FE;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">domain-insecure: example.com</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7. &#x5982;&#x679C;&#x9700;&#x8981;&#xFF0C;&#x8BF7;&#x5B89;&#x88C5;&#x7279;&#x5B9A;&#x7B7E;&#x540D;&#x533A;&#x57DF;&#x7684;&#x4FE1;&#x4EFB;&#x5B9A;&#x4F4D;&#x7B26;&#xFF08;&#x4E0D;&#x542B;&#x5B8C;&#x6574;&#x4FE1;&#x4EFB;&#x94FE;&#xFF09;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x7531;&#x4E8E;&#x5E76;&#x975E;&#x6240;&#x6709; ccTLD &#x90FD;&#x5B9E;&#x73B0;&#x4E86; DNSSEC&#xFF0C;&#x8FD9;&#x4E9B; ccTLD &#x7684;&#x5B50;&#x57DF;&#x53EF;&#x4EE5;&#x7531; DNSSEC &#x7B7E;&#x540D;&#xFF0C;&#x4F46;&#x662F;&#x4ECD;&#x5177;&#x6709;&#x635F;&#x574F;&#x7684;&#x4FE1;&#x4EFB;&#x94FE;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>/etc/unbound/unbound.conf</code> &#x7684; server &#x5B50;&#x53E5;&#x4E2D;&#x7684; trust-anchor &#x9009;&#x9879;&#x6307;&#x5B9A;&#x533A;&#x57DF;&#x7684;&#x4FE1;&#x4EFB;&#x5B9A;&#x4F4D;&#x7B26;&#xFF0C;&#x4ECE;&#x800C;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#x3002;&#x4F7F;&#x7528; dig &#x6765;&#x83B7;&#x53D6;&#x533A;&#x57DF;&#x7684;&#x5BC6;&#x94A5;&#x7B7E;&#x540D;&#x5BC6;&#x94A5; (KSK) &#x7684; DNSKEY &#x8BB0;&#x5F55;&#xFF0C;&#x5E76;&#x8F93;&#x5165;&#x8BE5;&#x8BB0;&#x5F55;&#x4F5C;&#x4E3A; trust-anchor &#x9009;&#x9879;&#x7684;&#x503C;&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">$ dig +dnssec DNSKEY example.com</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8. &#x4FDD;&#x5B58;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x5C06;&#x66F4;&#x6539;&#x4FDD;&#x5B58;&#x5230; <code>/etc/unbound/unbound.conf</code>&#x3002;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9. &#x8BED;&#x6CD5;&#x68C0;&#x67E5;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x68C0;&#x67E5; <code>/etc/unbound/unbound.conf</code> &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x6709;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># unbound-checkconf</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10. &#x91CD;&#x542F;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x91CD;&#x65B0;&#x542F;&#x52A8; unbound.service&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># systemctl restart unbound.service</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11. &#x914D;&#x7F6E;&#x9632;&#x706B;&#x5899;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x914D;&#x7F6E;&#x9632;&#x706B;&#x5899;&#x4EE5;&#x5141;&#x8BB8; DNS &#x6D41;&#x91CF;&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># firewall-cmd --permanent --add-service=dns
# firewall-cmd --reload</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_unbound">unbound &#x57FA;&#x672C;&#x7BA1;&#x7406;&#x64CD;&#x4F5C;</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">&#x6B65;&#x9AA4;</th>
<th class="tableblock halign-left valign-top">&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#x8F6C;&#x50A8;&#x548C;&#x52A0;&#x8F7D; unbound &#x7F13;&#x5B58;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x5BF9; DNS &#x95EE;&#x9898;&#x8FDB;&#x884C;&#x6545;&#x969C;&#x6392;&#x9664;&#x65F6;&#xFF0C;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7BA1;&#x7406;&#x5458;&#x9700;&#x8981;&#x8F6C;&#x50A8;&#x7F13;&#x5B58;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x7531;&#x4E8E;&#x9648;&#x65E7;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x4EA7;&#x751F;&#x7684;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x3002;&#x901A;&#x8FC7; unbound DNS &#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8054;&#x5408; dump_cache &#x5B50;&#x547D;&#x4EE4;&#x8FD0;&#x884C; unbound-control &#x5B9E;&#x7528;&#x7A0B;&#x5E8F;&#x6765;&#x8F6C;&#x50A8;&#x7F13;&#x5B58;&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># unbound-control dump_cache</code></pre>
</div>
</div>
<div class="paragraph">
<p>&#x4F7F;&#x7528; dump_cache &#x547D;&#x4EE4;&#x6267;&#x884C; unbound-control &#x4EE5;&#x4FBF;&#x4EE5;&#x6587;&#x672C;&#x683C;&#x5F0F;&#x5C06;&#x7F13;&#x5B58;&#x8F6C;&#x50A8;&#x5230; stdout&#x3002;&#x53EF;&#x4EE5;&#x5C06;&#x6B64;&#x8F93;&#x51FA;&#x5B9A;&#x5411;&#x5230;&#x6587;&#x4EF6;&#x4EE5;&#x8FDB;&#x884C;&#x5B58;&#x50A8;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x4E4B;&#x540E;&#x4F7F;&#x7528; unbound-control load_cache &#x547D;&#x4EE4;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;&#x4E2D;&#xFF08;&#x5982;&#x679C;&#x9700;&#x8981;&#xFF09;&#x3002;unbound-control load_cache &#x4ECE; stdin &#x4E2D;&#x8BFB;&#x53D6;&#x4EE5;&#x586B;&#x5145;&#x7F13;&#x5B58;&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># unbound-control load_cache &lt; dump.out</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#x6E05;&#x7A7A; unbound &#x7F13;&#x5B58;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7BA1;&#x7406;&#x5458;&#x8FD8;&#x9700;&#x8981;&#x7ECF;&#x5E38;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x6E05;&#x9664;&#x8FC7;&#x671F;&#x7684;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x3002;&#x5728;&#x8FC7;&#x671F;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x4E0A;&#x7684; TTL &#x5230;&#x671F;&#x4E4B;&#x524D;&#xFF0C;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x9519;&#x8BEF;&#x548C;&#x8FC7;&#x671F;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x5C06;&#x963B;&#x6B62;&#x65B0;&#x7684;&#x5DF2;&#x66F4;&#x6B63;&#x7684;&#x5BF9;&#x5E94;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#x4F9B;&#x5BA2;&#x6237;&#x7AEF;&#x4F7F;&#x7528;&#x3002;&#x7BA1;&#x7406;&#x5458;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6267;&#x884C;&#x5E26;&#x6709; flush &#x5B50;&#x547D;&#x4EE4;&#x7684; unbound-control &#x6765;&#x5F3A;&#x5236;&#x6E05;&#x9664;&#x8FC7;&#x671F;&#x8BB0;&#x5F55;&#xFF0C;&#x800C;&#x4E0D;&#x5FC5;&#x7B49;&#x5F85; TTL &#x8FC7;&#x671F;&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># unbound-control flush www.example.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x4ECE; unbound DNS &#x670D;&#x52A1;&#x5668;&#x7684;&#x7F13;&#x5B58;&#x4E2D;&#x6E05;&#x9664;&#x5C5E;&#x4E8E;&#x67D0;&#x4E2A;&#x57DF;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x8BB0;&#x5F55;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; flush_zone &#x5B50;&#x547D;&#x4EE4;&#x6765;&#x6267;&#x884C; unbound-control&#x3002;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># unbound-control flush_zone example.com</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#x4F7F;&#x7528; dnssec-trigger &#x66F4;&#x65B0;&#x672C;&#x5730;&#x7F13;&#x5B58; unbound &#x914D;&#x7F6E;</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>&#x9664;&#x4E86;&#x4E3A;&#x672C;&#x5730;&#x5B50;&#x7F51;&#x63D0;&#x4F9B;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#xFF0C;unbound &#x4F5C;&#x4E3A;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x5F88;&#x6709;&#x7528;&#xFF0C;&#x53EF;&#x63D0;&#x4F9B;&#x5B89;&#x5168;&#x7684; DNS &#x540D;&#x79F0;&#x89E3;&#x6790;&#x4EE5;&#x4F9B;&#x5728;&#x4E2A;&#x522B;&#x7CFB;&#x7EDF;&#x4E0A;&#x672C;&#x5730;&#x4F7F;&#x7528;&#x3002;&#x5BF9;&#x4E8E;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x8BBE;&#x7F6E;&#xFF0C;<code>/etc/resolv.conf</code> &#x4E2D;&#x7684; nameserver &#x6761;&#x76EE;&#x5C06;&#x914D;&#x7F6E;&#x4E3A;&#x6307;&#x5411; unbound &#x6B63;&#x5728;&#x4FA6;&#x542C;&#x7684;&#x672C;&#x5730;&#x4E3B;&#x673A;&#x3002;unbound &#x914D;&#x7F6E;&#x5C06; DNS &#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x4E0A;&#x6E38;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x5E76;&#x9A8C;&#x8BC1;&#x5176;&#x54CD;&#x5E94;&#x3002;</p>
</div>
<div class="paragraph">
<p>&#x5BF9;&#x4E8E;&#x8FD0;&#x884C;&#x672C;&#x5730;&#x7F13;&#x5B58;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x7684; DHCP &#x7CFB;&#x7EDF;&#xFF0C;&#x5982;&#x679C; DHCP &#x63D0;&#x4F9B;&#x7684; DNS &#x670D;&#x52A1;&#x5668;&#x53D1;&#x751F;&#x66F4;&#x6539;&#xFF0C;&#x5219; unbound &#x7684;&#x914D;&#x7F6E;&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x4E0A;&#x6E38;&#x540D;&#x79F0;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x80FD;&#x8FC7;&#x671F;&#x3002;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x7684;&#x8F6F;&#x4EF6;&#x5305;&#x63D0;&#x4F9B;&#x7684; dnssec-trigger &#x5DE5;&#x5177;&#x6765;&#x81EA;&#x52A8;&#x66F4;&#x65B0; unbound &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x8F6C;&#x53D1;&#x5668;&#x8BBE;&#x7F6E;&#x4EE5;&#x6307;&#x5411;&#x65B0;&#x7684; DNS &#x670D;&#x52A1;&#x5668;&#x3002;dnssec-trigger &#x5DE5;&#x5177;&#x4E0E; unbound &#x7EC4;&#x5408;&#x4F7F;&#x7528;&#x5BF9;&#x4E8E;&#x6F2B;&#x6E38;&#x5BA2;&#x6237;&#x673A;&#x4E0A;&#x7684;&#x5B89;&#x5168; DNS &#x540D;&#x79F0;&#x89E3;&#x6790;&#x5F88;&#x6709;&#x7528;&#x3002;</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dns_3">DNS &#x5E38;&#x89C1;&#x95EE;&#x9898;</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title"><strong>DNS &#x5E38;&#x89C1;&#x95EE;&#x9898;&#x5206;&#x6790;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">$ getent hosts example.com
$ grep ^hosts: /etc/nsswitch.conf
$ grep [[:space:]]example.com /etc/hosts
$ grep ^nameserver /etc/resolv.conf
nameserver 172.25.254.255
$ dig @172.25.254.255 A example.com
$ dig A example.com</code></pre>
</div>
</div>
</div>
</div>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="bridge.html" class="navigation navigation-prev " aria-label="Previous page: bridge">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="monitor.html" class="navigation navigation-next " aria-label="Next page: 网络监控">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"DNS","level":"1.2.3.7","depth":3,"next":{"title":"网络监控","level":"1.2.3.8","depth":3,"path":"linux/networking/monitor.adoc","ref":"linux/networking/monitor.adoc","articles":[]},"previous":{"title":"bridge","level":"1.2.3.6","depth":3,"path":"linux/networking/bridge.adoc","ref":"linux/networking/bridge.adoc","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"GUID":"na39","OCP_USER_ID":"ksoong-redhat.com","copyrightYear":"2018","copyrightHolder":"Kylin Soong"},"plugins":["collapsible-menu","donate","-sharing","sharing-plus","splitter","back-to-top-button","edit-link"],"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy Kylin Soong 2018","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"collapsible-menu":{},"splitter":{},"search":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"donate":{"alipay":"http://ksoong.org/docs/content/images/alipay.png","alipayText":"支付宝捐赠","button":"赞赏","title":"","wechat":"http://ksoong.org/docs/content/images/wechat.png","wechatText":"微信捐赠"},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"sharing":{"weibo":true,"linkedin":true,"google":true,"facebook":true,"all":["facebook","google","linkedin","weibo"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/kylinsoong/docs/blob/gh-pages"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css"}},"file":{"path":"linux/networking/dns.adoc","mtime":"2018-11-05T14:28:32.851Z","type":"asciidoc"},"gitbook":{"version":"3.2.3","time":"2019-02-14T07:04:57.409Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

