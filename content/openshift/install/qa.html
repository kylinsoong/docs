
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>常见问题 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../advanced-deployment.html" />
    
    
    <link rel="prev" href="add-nodes.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    INTRODUCTION
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../linux/">
            
                <a href="../../linux/">
            
                    
                    INFRA
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../linux/rhel/readme.html">
            
                <a href="../../linux/rhel/readme.html">
            
                    
                    安装
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../linux/rhel/pre-install.html">
            
                <a href="../../linux/rhel/pre-install.html">
            
                    
                    安装 DVD 制作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../linux/rhel/install-img-usb.html">
            
                <a href="../../linux/rhel/install-img-usb.html">
            
                    
                    生成 USB 介质
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../../linux/rhel/install.html">
            
                <a href="../../linux/rhel/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="../../linux/rhel/kvm.html">
            
                <a href="../../linux/rhel/kvm.html">
            
                    
                    KVM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../linux/basic/basic.html">
            
                <a href="../../linux/basic/basic.html">
            
                    
                    基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../linux/basic/local-remote-login.html">
            
                <a href="../../linux/basic/local-remote-login.html">
            
                    
                    本地及远程登录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../linux/basic/user-group.html">
            
                <a href="../../linux/basic/user-group.html">
            
                    
                    用户和组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../../linux/basic/packages-update.html">
            
                <a href="../../linux/basic/packages-update.html">
            
                    
                    软件包的安装与更新
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../../linux/basic/syslog.html">
            
                <a href="../../linux/basic/syslog.html">
            
                    
                    系统日志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../../linux/basic/ntp.html">
            
                <a href="../../linux/basic/ntp.html">
            
                    
                    NTP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../../linux/basic/ex.html">
            
                <a href="../../linux/basic/ex.html">
            
                    
                    QA
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../linux/networking/">
            
                <a href="../../linux/networking/">
            
                    
                    网络
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../linux/networking/fundamentals.html">
            
                <a href="../../linux/networking/fundamentals.html">
            
                    
                    网络基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1.1" data-path="../../linux/networking/tcp_debug.html">
            
                <a href="../../linux/networking/tcp_debug.html">
            
                    
                    TCP 调试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../linux/networking/ifcfg.html">
            
                <a href="../../linux/networking/ifcfg.html">
            
                    
                    网络配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../../linux/networking/ipv6cfg.html">
            
                <a href="../../linux/networking/ipv6cfg.html">
            
                    
                    IPv6 网络配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="../../linux/networking/netns.html">
            
                <a href="../../linux/networking/netns.html">
            
                    
                    namespace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="../../linux/networking/teaming.html">
            
                <a href="../../linux/networking/teaming.html">
            
                    
                    teaming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.6" data-path="../../linux/networking/bridge.html">
            
                <a href="../../linux/networking/bridge.html">
            
                    
                    bridge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.7" data-path="../../linux/networking/dns.html">
            
                <a href="../../linux/networking/dns.html">
            
                    
                    DNS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.7.1" data-path="../../linux/networking/bind.html">
            
                <a href="../../linux/networking/bind.html">
            
                    
                    bind
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.7.2" data-path="../../linux/networking/bind-internal.html">
            
                <a href="../../linux/networking/bind-internal.html">
            
                    
                    Internal DNS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3.8" data-path="../../linux/networking/monitor.html">
            
                <a href="../../linux/networking/monitor.html">
            
                    
                    网络监控
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.9" data-path="../../linux/networking/programming.html">
            
                <a href="../../linux/networking/programming.html">
            
                    
                    网络编程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../linux/fs.html">
            
                <a href="../../linux/fs.html">
            
                    
                    文件系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../linux/stoarges/readme.html">
            
                <a href="../../linux/stoarges/readme.html">
            
                    
                    存储
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../../linux/stoarges/lvm.html">
            
                <a href="../../linux/stoarges/lvm.html">
            
                    
                    LVM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" data-path="../../linux/stoarges/nfs.html">
            
                <a href="../../linux/stoarges/nfs.html">
            
                    
                    NFS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3" data-path="../../linux/stoarges/file-storage.html">
            
                <a href="../../linux/stoarges/file-storage.html">
            
                    
                    文件存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.4" data-path="../../linux/stoarges/block-storage.html">
            
                <a href="../../linux/stoarges/block-storage.html">
            
                    
                    块存储
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../linux/security/">
            
                <a href="../../linux/security/">
            
                    
                    安全
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../../linux/security/file-permissions.html">
            
                <a href="../../linux/security/file-permissions.html">
            
                    
                    文件权限
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.2" data-path="../../linux/security/SELinux.html">
            
                <a href="../../linux/security/SELinux.html">
            
                    
                    SELinux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.3" data-path="../../linux/security/firewall.html">
            
                <a href="../../linux/security/firewall.html">
            
                    
                    防火墙
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.4" data-path="../../linux/security/openssl.html">
            
                <a href="../../linux/security/openssl.html">
            
                    
                    OpenSSL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6.5" data-path="../../linux/security/ldap.html">
            
                <a href="../../linux/security/ldap.html">
            
                    
                    LDAP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../linux/process/">
            
                <a href="../../linux/process/">
            
                    
                    进程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.7.1" data-path="../../linux/process/management.html">
            
                <a href="../../linux/process/management.html">
            
                    
                    进程管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.2" data-path="../../linux/process/service.html">
            
                <a href="../../linux/process/service.html">
            
                    
                    服务管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.3" data-path="../../linux/process/schedule.html">
            
                <a href="../../linux/process/schedule.html">
            
                    
                    周期性运行进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7.4" data-path="../../linux/process/bash.html">
            
                <a href="../../linux/process/bash.html">
            
                    
                    bash
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../../linux/svc/">
            
                <a href="../../linux/svc/">
            
                    
                    常用服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1" data-path="../../linux/svc/openssh.html">
            
                <a href="../../linux/svc/openssh.html">
            
                    
                    OpenSSH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.2" data-path="../../linux/svc/postfix.html">
            
                <a href="../../linux/svc/postfix.html">
            
                    
                    Email
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.3" data-path="../../linux/svc/mariadb.html">
            
                <a href="../../linux/svc/mariadb.html">
            
                    
                    MariaDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.4" data-path="../../linux/svc/httpd.html">
            
                <a href="../../linux/svc/httpd.html">
            
                    
                    HTTPD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8.5" data-path="../../linux/svc/zabbix.html">
            
                <a href="../../linux/svc/zabbix.html">
            
                    
                    Zabbix
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../../linux/perf/">
            
                <a href="../../linux/perf/">
            
                    
                    性能调优
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../docker/docker.html">
            
                <a href="../../docker/docker.html">
            
                    
                    DOCKER
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../docker/svc/svc.html">
            
                <a href="../../docker/svc/svc.html">
            
                    
                    容器化服务
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../docker/svc/mysql.html">
            
                <a href="../../docker/svc/mysql.html">
            
                    
                    mysql
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../../docker/svc/httpd.html">
            
                <a href="../../docker/svc/httpd.html">
            
                    
                    httpd
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../docker/container.html">
            
                <a href="../../docker/container.html">
            
                    
                    容器管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../docker/images.html">
            
                <a href="../../docker/images.html">
            
                    
                    容器镜像
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../openshift.html">
            
                <a href="../openshift.html">
            
                    
                    OPENSHIFT
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../concepts/">
            
                <a href="../concepts/">
            
                    
                    概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="./">
            
                <a href="./">
            
                    
                    安装
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="yum.html">
            
                <a href="yum.html">
            
                    
                    本地 yum 源配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="docker-dist.html">
            
                <a href="docker-dist.html">
            
                    
                    本地 docker 镜像仓库配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="dns.html">
            
                <a href="dns.html">
            
                    
                    DNS 服务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="pre-install.html">
            
                <a href="pre-install.html">
            
                    
                    前续安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="install.html">
            
                <a href="install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="post-install.html">
            
                <a href="post-install.html">
            
                    
                    后续安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.7" data-path="add-nodes.html">
            
                <a href="add-nodes.html">
            
                    
                    节点扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.2.8" data-path="qa.html">
            
                <a href="qa.html">
            
                    
                    常见问题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../advanced-deployment.html">
            
                <a href="../advanced-deployment.html">
            
                    
                    高级部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../devops.html">
            
                <a href="../devops.html">
            
                    
                    DEVOPS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../secure.html">
            
                <a href="../secure.html">
            
                    
                    安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../samples/samples.html">
            
                <a href="../samples/samples.html">
            
                    
                    示例
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.6.1" data-path="../samples/rc.html">
            
                <a href="../samples/rc.html">
            
                    
                    RC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.2" data-path="../samples/dc.html">
            
                <a href="../samples/dc.html">
            
                    
                    DC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.3" data-path="../samples/s2i.html">
            
                <a href="../samples/s2i.html">
            
                    
                    S2I
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.4" data-path="../samples/configmap.html">
            
                <a href="../samples/configmap.html">
            
                    
                    ConfigMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.5" data-path="../samples/elastic-spark.html">
            
                <a href="../samples/elastic-spark.html">
            
                    
                    elasticsearch and spark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.6" data-path="../samples/vdb-data-svc.html">
            
                <a href="../samples/vdb-data-svc.html">
            
                    
                    Teiid Data Service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../labs/">
            
                <a href="../labs/">
            
                    
                    LABS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.7.1" data-path="../labs/sdn.html">
            
                <a href="../labs/sdn.html">
            
                    
                    Software-Defined Networking
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.2" data-path="../labs/edge-route.html">
            
                <a href="../labs/edge-route.html">
            
                    
                    Route
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.3" data-path="../labs/web-console.html">
            
                <a href="../labs/web-console.html">
            
                    
                    Web Console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.4" data-path="../labs/projects-accounts.html">
            
                <a href="../labs/projects-accounts.html">
            
                    
                    项目用户安全管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.5" data-path="../labs/secure-secrets.html">
            
                <a href="../labs/secure-secrets.html">
            
                    
                    数据库连接信息保护
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.6" data-path="../labs/db-persist.html">
            
                <a href="../labs/db-persist.html">
            
                    
                    持久化数据库存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.7" data-path="../labs/wordpress.html">
            
                <a href="../labs/wordpress.html">
            
                    
                    部署 wordpress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.8" data-path="../labs/scaling.html">
            
                <a href="../labs/scaling.html">
            
                    
                    扩展应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.9" data-path="../labs/hpa.html">
            
                <a href="../labs/hpa.html">
            
                    
                    弹性扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.10" data-path="../labs/010.html">
            
                <a href="../labs/010.html">
            
                    
                    Blue-Green Deployments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.11" data-path="../labs/011.html">
            
                <a href="../labs/011.html">
            
                    
                    SCM Web Hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.12" data-path="../labs/012.html">
            
                <a href="../labs/012.html">
            
                    
                    Rollback Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.13" data-path="../labs/deploy-an-operator.html">
            
                <a href="../labs/deploy-an-operator.html">
            
                    
                    Operator 部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.14" data-path="../labs/014.html">
            
                <a href="../labs/014.html">
            
                    
                    JBoss Developer Studio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7.15" data-path="../labs/015.html">
            
                <a href="../labs/015.html">
            
                    
                    Deploy a SpringBoot Application
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../case.html">
            
                <a href="../case.html">
            
                    
                    用例
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../k8s/">
            
                <a href="../../k8s/">
            
                    
                    KUBERNETES
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../k8s/install.html">
            
                <a href="../../k8s/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../k8s/case.html">
            
                <a href="../../k8s/case.html">
            
                    
                    概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../k8s/net.html">
            
                <a href="../../k8s/net.html">
            
                    
                    网络
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../k8s/dev.html">
            
                <a href="../../k8s/dev.html">
            
                    
                    开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../../k8s/admin.html">
            
                <a href="../../k8s/admin.html">
            
                    
                    管理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../ansible/">
            
                <a href="../../ansible/">
            
                    
                    ANSIBLE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../ansible/basic-usage.html">
            
                <a href="../../ansible/basic-usage.html">
            
                    
                    基本使用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../jboss/readme.html">
            
                <a href="../../jboss/readme.html">
            
                    
                    APPDEV
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../jboss/api/readme.html">
            
                <a href="../../jboss/api/readme.html">
            
                    
                    API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../../jboss/mesh.html">
            
                <a href="../../jboss/mesh.html">
            
                    
                    Mesh
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.2.1" data-path="../../jboss/mesh-start.html">
            
                <a href="../../jboss/mesh-start.html">
            
                    
                    快速开始
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../../jboss/faas/openwhisk.html">
            
                <a href="../../jboss/faas/openwhisk.html">
            
                    
                    Serverless
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../../jboss/coolstore/">
            
                <a href="../../jboss/coolstore/">
            
                    
                    微服务示例
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.4.1" data-path="../../jboss/rhte18/redhat-msa.html">
            
                <a href="../../jboss/rhte18/redhat-msa.html">
            
                    
                    微服务及红帽产品集成实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.5" >
            
                <a target="_blank" href="http://ksoong.org/drools-examples/content/">
            
                    
                    规则引擎
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../../jboss/amq/amq.html">
            
                <a href="../../jboss/amq/amq.html">
            
                    
                    A-MQ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.6.1" data-path="../../jboss/amq/streams.html">
            
                <a href="../../jboss/amq/streams.html">
            
                    
                    AMQ Streams
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.2" data-path="../../jboss/amq/install.html">
            
                <a href="../../jboss/amq/install.html">
            
                    
                    AMQ 6.3 安装测试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.7" >
            
                <a target="_blank" href="http://ksoong.org/agile-integration/">
            
                    
                    敏捷集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../../jboss/bpm/bpm.html">
            
                <a href="../../jboss/bpm/bpm.html">
            
                    
                    BPM
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.8.1" data-path="../../jboss/bpm/install.html">
            
                <a href="../../jboss/bpm/install.html">
            
                    
                    安装测试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../../jboss/adc/adc.html">
            
                <a href="../../jboss/adc/adc.html">
            
                    
                    应用交付网络
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" >
            
                <a target="_blank" href="https://realtimeinsights.github.io">
            
                    
                    数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="../../jboss/datavirt/datavirt.html">
            
                <a href="../../jboss/datavirt/datavirt.html">
            
                    
                    数据虚拟化
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.11.1" data-path="../../jboss/datavirt/software-list.html">
            
                <a href="../../jboss/datavirt/software-list.html">
            
                    
                    软件版本号对照表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11.2" data-path="../../jboss/datavirt/changelog.html">
            
                <a href="../../jboss/datavirt/changelog.html">
            
                    
                    修订记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11.3" data-path="../../jboss/datavirt/download.html">
            
                <a href="../../jboss/datavirt/download.html">
            
                    
                    下载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11.4" data-path="../../jboss/datavirt/install.html">
            
                <a href="../../jboss/datavirt/install.html">
            
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11.5" data-path="../../jboss/datavirt/start.html">
            
                <a href="../../jboss/datavirt/start.html">
            
                    
                    启动
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11.6" data-path="../../jboss/datavirt/deploy-vdbs.html">
            
                <a href="../../jboss/datavirt/deploy-vdbs.html">
            
                    
                    部署测试 VDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11.7" data-path="../../jboss/datavirt/meta.html">
            
                <a href="../../jboss/datavirt/meta.html">
            
                    
                    元数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11.8" data-path="../../jboss/datavirt/jbds-jdv.html">
            
                <a href="../../jboss/datavirt/jbds-jdv.html">
            
                    
                    JBDS 创建虚拟数据库操作示例
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../solutions/">
            
                <a href="../../solutions/">
            
                    
                    SOLUTIONS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../solutions/abc-distribute-arch.html">
            
                <a href="../../solutions/abc-distribute-arch.html">
            
                    
                    核心银行系统分布式架构转型
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../../about/">
            
                <a href="../../about/">
            
                    
                    BUSINESS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../../about/data.html">
            
                <a href="../../about/data.html">
            
                    
                    数据洞见未来
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../../about/it-professions.html">
            
                <a href="../../about/it-professions.html">
            
                    
                    PROFESSIONS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../../about/softskills.html">
            
                <a href="../../about/softskills.html">
            
                    
                    SKILLS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >常见问题</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="q--a">Q &amp; A</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_certificate_signed_by_unknown_authority">certificate signed by unknown authority</a>
<ul class="sectlevel2">
<li><a href="#__">&#x5B89;&#x88C5;&#x73AF;&#x5883;</a></li>
<li><a href="#___2">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</a></li>
<li><a href="#___3">&#x539F;&#x56E0;&#x53CA;&#x89E3;&#x51B3;&#x529E;&#x6CD5;</a></li>
</ul>
</li>
<li><a href="#_nfs_is_an_unsupported_type">nfs is an unsupported type</a>
<ul class="sectlevel2">
<li><a href="#___4">&#x5B89;&#x88C5;&#x73AF;&#x5883;</a></li>
<li><a href="#___5">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</a></li>
<li><a href="#___6">&#x539F;&#x56E0;&#x53CA;&#x89E3;&#x51B3;&#x529E;&#x6CD5;</a></li>
</ul>
</li>
<li><a href="#_package_atomic_openshift_clients_3_9_27_not_available">Package atomic-openshift-clients-3.9.27 not available</a>
<ul class="sectlevel2">
<li><a href="#___7">&#x5B89;&#x88C5;&#x73AF;&#x5883;</a></li>
<li><a href="#___8">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</a></li>
<li><a href="#___9">&#x95EE;&#x9898;&#x539F;&#x56E0;</a></li>
<li><a href="#___10">&#x89E3;&#x51B3;&#x529E;&#x6CD5;</a></li>
<li><a href="#___11">&#x5206;&#x6790;&#x6B65;&#x9AA4;</a></li>
</ul>
</li>
<li><a href="#_nfs_mount_registry_volume_failed">NFS mount registry-volume failed</a>
<ul class="sectlevel2">
<li><a href="#___12">&#x5B89;&#x88C5;&#x73AF;&#x5883;</a></li>
<li><a href="#___13">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</a></li>
<li><a href="#___14">&#x95EE;&#x9898;&#x539F;&#x56E0;</a></li>
<li><a href="#___15">&#x89E3;&#x51B3;&#x529E;&#x6CD5;</a></li>
<li><a href="#___16">&#x5206;&#x6790;&#x6B65;&#x9AA4;</a></li>
</ul>
</li>
<li><a href="#_apiserver_pod_can_not_resolve_the_etc_hostname">apiserver Pod can not resolve the etc hostname</a>
<ul class="sectlevel2">
<li><a href="#___17">&#x5B89;&#x88C5;&#x73AF;&#x5883;</a></li>
<li><a href="#___18">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</a></li>
<li><a href="#___19">&#x95EE;&#x9898;&#x539F;&#x56E0;</a></li>
<li><a href="#___20">&#x89E3;&#x51B3;&#x65B9;&#x6CD5;</a></li>
<li><a href="#___21">&#x5206;&#x6790;&#x6B65;&#x9AA4;</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_certificate_signed_by_unknown_authority">certificate signed by unknown authority</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="__">&#x5B89;&#x88C5;&#x73AF;&#x5883;</h3>
<div class="ulist">
<ul>
<li>
<p>OpenShift 3.11</p>
</li>
<li>
<p>RHEL 7.5</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="___2">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h3>
<div class="paragraph">
<p>&#x540E;&#x7EED;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x4E2D; import image-stream &#x6216;&#x90E8;&#x7F72;&#x955C;&#x50CF;&#x65F6;&#x62A5;&#x9519;&#xFF1A;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">Get https://registry.example.com/v2/: x509: certificate signed by unknown authority</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___3">&#x539F;&#x56E0;&#x53CA;&#x89E3;&#x51B3;&#x529E;&#x6CD5;</h3>
<div class="paragraph">
<p>OpenShift &#x65E0;&#x6CD5;&#x627E;&#x5230;&#x81EA;&#x7B7E;&#x540D;&#x7684;&#x8BC1;&#x4E66;&#xFF0C;&#x5BFC;&#x81F4;&#x6B64;&#x95EE;&#x9898;&#xFF0C;&#x89E3;&#x51B3;&#x529E;&#x6CD5;:</p>
</div>
<div class="listingblock">
<div class="title"><strong>&#x7F16;&#x8F91; Master &#x8282;&#x70B9;&#x4E0A;&#x7684; API Server &#x914D;&#x7F6E;&#x6587;&#x4EF6; <code>/etc/origin/node/pods/apiserver.yaml</code>&#xFF0C;&#x6DFB;&#x52A0;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">    volumeMounts:
    ...
    - mountPath: /etc/pki
      name: certs
    ...
  volumes:
  ...
  - hostPath:
      path: /etc/pki
    name: certs</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>&#x7F16;&#x8F91; Master &#x8282;&#x70B9;&#x4E0A;&#x7684; controller &#x914D;&#x7F6E;&#x6587;&#x4EF6; <code>/etc/origin/node/pods/controller.yaml</code>&#xFF0C;&#x6DFB;&#x52A0;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">    volumeMounts:
    ...
    - mountPath: /etc/pki
      name: certs
    ...
  volumes:
  ...
  - hostPath:
      path: /etc/pki
    name: certs</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>default &#x4E0B;&#x521B;&#x5EFA; configmap&#xFF0C;&#x5E76;&#x7F16;&#x8F91; dc docker-registry</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># oc create configmap host-ca-trust --from-file=cert.pem=/etc/pki/tls/cert.pem
# oc edit dc docker-registry -n default
...
        volumeMounts:
        ...
        - mountPath: /etc/pki/tls/certs
          name: ca-trust
        ...
      volumes:
        ...
      - configMap:
          defaultMode: 420
          name: host-ca-trust
        name: ca-trust</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
&#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x540E;&#x9700;&#x91CD;&#x8D77;&#x670D;&#x52A1;: <code>master-restart ap</code>, <code>master-restart controllers</code>&#x3002;
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_nfs_is_an_unsupported_type">nfs is an unsupported type</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="___4">&#x5B89;&#x88C5;&#x73AF;&#x5883;</h3>
<div class="ulist">
<ul>
<li>
<p>OpenShift 3.9</p>
</li>
<li>
<p>RHEL 7.5</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="___5">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h3>
<div class="paragraph">
<p>Ansible &#x6267;&#x884C; playbooks prerequisites.yml &#x68C0;&#x6D4B;&#x51FA;&#x9519;&#xFF1A;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>TASK [Run variable sanity checks] ************************************************************************************************************************************************************
fatal: [master.example.com]: FAILED! =&gt; {&quot;failed&quot;: true, &quot;msg&quot;: &quot;last_checked_host: master.example.com, last_checked_var: openshift_hosted_registry_storage_kind;nfs is an unsupported type for openshift_hosted_registry_storage_kind. openshift_enable_unsupported_configurations=True mustbe specified to continue with this configuration.&quot;}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___6">&#x539F;&#x56E0;&#x53CA;&#x89E3;&#x51B3;&#x529E;&#x6CD5;</h3>
<div class="listingblock">
<div class="content">
<pre>The use of NFS for the core OpenShift Components was never recommended, as NFS (and the NFS Protocol) does not
provide the proper consistency needed for the applications that make up the OpenShift infrastructure.

As a result, the installer/update playbooks now require an option to enable the use of NFS with core infrastructure components.

In ansible inventory file you should specify the following:

openshift_enable_unsupported_configurations=True</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_package_atomic_openshift_clients_3_9_27_not_available">Package atomic-openshift-clients-3.9.27 not available</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="___7">&#x5B89;&#x88C5;&#x73AF;&#x5883;</h3>
<div class="ulist">
<ul>
<li>
<p>OpenShift 3.9</p>
</li>
<li>
<p>RHEL 7.5</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="___8">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h3>
<div class="paragraph">
<p>Ansible &#x6267;&#x884C; playbooks deploy_cluster.yml &#x8FC7;&#x7A0B;&#x62A5;&#x9519;&#xFF1A;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>TASK [openshift_cli : Install clients] *******************************************************************************************************************************************************
FAILED - RETRYING: Install clients (2 retries left).
FAILED - RETRYING: Install clients (1 retries left).
fatal: [master.example.com]: FAILED! =&gt; {&quot;attempts&quot;: 2, &quot;changed&quot;: false, &quot;failed&quot;: true, &quot;msg&quot;: &quot;No package matching &apos;atomic-openshift-clients-3.9.27&apos; found available, installed or updated&quot;, &quot;rc&quot;: 126, &quot;results&quot;: [&quot;No package matching &apos;atomic-openshift-clients-3.9.27&apos; found available, installed or updated&quot;]}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___9">&#x95EE;&#x9898;&#x539F;&#x56E0;</h3>
<div class="paragraph">
<p>atomic-openshift-clients &#x5305;&#x5728; Master &#x8282;&#x70B9;&#x7531;&#x4E8E;&#x4E00;&#x4E9B;&#x4F9D;&#x8D56;&#x51B2;&#x7A81;&#x5BFC;&#x81F4;&#x627E;&#x4E0D;&#x5230;&#x3002;</p>
</div>
</div>
<div class="sect2">
<h3 id="___10">&#x89E3;&#x51B3;&#x529E;&#x6CD5;</h3>
<div class="ulist">
<ul>
<li>
<p>&#x5728;&#x540C;&#x6B65; yum &#x6E90;&#x65F6;&#x786E;&#x4FDD;&#x5305;&#x4E3A;&#x552F;&#x4E00;&#xFF0C;&#x5373; <code>reposync -lmn</code> &#x540C;&#x6B65; yum &#x6E90;&#xFF0C;<code>-n</code> &#x4EC5;&#x540C;&#x6B65;&#x6700;&#x65B0;&#x7684;&#x5305;</p>
</li>
<li>
<p>&#x5C06;&#x76F8;&#x5E94;&#x7684;&#x5305; <code>atomic-openshift-clients-3.9.27-1.git.0.964617d.el7.x86_64.rpm</code> &#x53CA;&#x5176;&#x4F9D;&#x8D56; <code>atomic-openshift-3.9.27-1.git.0.964617d.el7.x86_64.rpm</code> &#x62F7;&#x8D1D;&#x5230; master, &#x672C;&#x5730;&#x5B89;&#x88C5;&#x3002;</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="___11">&#x5206;&#x6790;&#x6B65;&#x9AA4;</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>&#x5728;&#x672C;&#x5730; yum &#x6E90;&#x4ED3;&#x5E93;&#x6267;&#x884C; find &#x786E;&#x8BA4;&#x5305;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF08;<code>find -name atomic-openshift-clients*</code>&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x6267;&#x884C;&#x7B2C;&#x4E8C;&#x6B65;</p>
</li>
<li>
<p>&#x5728; Master &#x8282;&#x70B9;&#x6267;&#x884C; <code>yum search</code>&#xFF0C;&#x5982;&#x679C;&#x5305;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x8BF4;&#x660E;&#x4F9D;&#x8D56;&#x51B2;&#x7A81;&#x5BFC;&#x81F4;&#x67D0;&#x4E9B;&#x5305;&#x522B;&#x5C4F;&#x853D;</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_nfs_mount_registry_volume_failed">NFS mount registry-volume failed</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="___12">&#x5B89;&#x88C5;&#x73AF;&#x5883;</h3>
<div class="ulist">
<ul>
<li>
<p>OpenShift 3.9</p>
</li>
<li>
<p>RHEL 7.5</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="___13">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h3>
<div class="paragraph">
<p>Ansible &#x6267;&#x884C; playbooks deploy_cluster.yml &#x8FC7;&#x7A0B;&#x62A5;&#x9519;&#xFF1A;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">TASK [openshift_hosted : Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success] **************************************************************************************************************************
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">60</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">59</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">58</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">57</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">56</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">55</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">54</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">53</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">52</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">51</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">50</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">49</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">48</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">47</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">46</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">45</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">44</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">43</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">42</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">41</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">40</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">39</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">38</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">37</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">36</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">35</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">34</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">33</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">32</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">31</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">30</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">29</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">28</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">27</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">26</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">25</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">24</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">23</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">22</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">21</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">20</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">19</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">18</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">17</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">16</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">15</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">14</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">13</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">12</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">11</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">10</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">9</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">8</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">7</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">6</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">5</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">4</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">3</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">2</span> retries left).
FAILED - RETRYING: Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success (<span class="hljs-number">1</span> retries left).
failed: [master.example.com] (item=[{u<span class="hljs-string">&apos;namespace&apos;</span>: u<span class="hljs-string">&apos;default&apos;</span>, u<span class="hljs-string">&apos;name&apos;</span>: u<span class="hljs-string">&apos;docker-registry&apos;</span>}, {<span class="hljs-string">&apos;_ansible_parsed&apos;</span>: True, <span class="hljs-string">&apos;stderr_lines&apos;</span>: [], u<span class="hljs-string">&apos;cmd&apos;</span>: [u<span class="hljs-string">&apos;oc&apos;</span>, u<span class="hljs-string">&apos;get&apos;</span>, u<span class="hljs-string">&apos;deploymentconfig&apos;</span>, u<span class="hljs-string">&apos;docker-registry&apos;</span>, u<span class="hljs-string">&apos;--namespace&apos;</span>, u<span class="hljs-string">&apos;default&apos;</span>, u<span class="hljs-string">&apos;--config&apos;</span>, u<span class="hljs-string">&apos;/etc/origin/master/admin.kubeconfig&apos;</span>, u<span class="hljs-string">&apos;-o&apos;</span>, u<span class="hljs-string">&apos;jsonpath={ .status.latestVersion }&apos;</span>], u<span class="hljs-string">&apos;end&apos;</span>: u<span class="hljs-string">&apos;2018-06-17 10:04:10.045056&apos;</span>, <span class="hljs-string">&apos;_ansible_no_log&apos;</span>: False, u<span class="hljs-string">&apos;stdout&apos;</span>: u<span class="hljs-string">&apos;3&apos;</span>, <span class="hljs-string">&apos;_ansible_item_result&apos;</span>: True, u<span class="hljs-string">&apos;changed&apos;</span>: True, <span class="hljs-string">&apos;item&apos;</span>: {u<span class="hljs-string">&apos;namespace&apos;</span>: u<span class="hljs-string">&apos;default&apos;</span>, u<span class="hljs-string">&apos;name&apos;</span>: u<span class="hljs-string">&apos;docker-registry&apos;</span>}, u<span class="hljs-string">&apos;delta&apos;</span>: u<span class="hljs-string">&apos;0:00:00.227236&apos;</span>, u<span class="hljs-string">&apos;stderr&apos;</span>: u<span class="hljs-string">&apos;&apos;</span>, u<span class="hljs-string">&apos;rc&apos;</span>: <span class="hljs-number">0</span>, u<span class="hljs-string">&apos;invocation&apos;</span>: {u<span class="hljs-string">&apos;module_args&apos;</span>: {u<span class="hljs-string">&apos;warn&apos;</span>: True, u<span class="hljs-string">&apos;executable&apos;</span>: None, u<span class="hljs-string">&apos;_uses_shell&apos;</span>: False, u<span class="hljs-string">&apos;_raw_params&apos;</span>: u<span class="hljs-string">&quot;oc get deploymentconfig docker-registry --namespace default --config /etc/origin/master/admin.kubeconfig -o jsonpath=&apos;{ .status.latestVersion }&apos;&quot;</span>, u<span class="hljs-string">&apos;removes&apos;</span>: None, u<span class="hljs-string">&apos;creates&apos;</span>: None, u<span class="hljs-string">&apos;chdir&apos;</span>: None, u<span class="hljs-string">&apos;stdin&apos;</span>: None}}, <span class="hljs-string">&apos;stdout_lines&apos;</span>: [u<span class="hljs-string">&apos;3&apos;</span>], u<span class="hljs-string">&apos;start&apos;</span>: u<span class="hljs-string">&apos;2018-06-17 10:04:09.817820&apos;</span>, <span class="hljs-string">&apos;_ansible_ignore_errors&apos;</span>: None, <span class="hljs-string">&apos;failed&apos;</span>: False}]) =&gt; {<span class="hljs-string">&quot;attempts&quot;</span>: <span class="hljs-number">60</span>, <span class="hljs-string">&quot;changed&quot;</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">&quot;cmd&quot;</span>: [<span class="hljs-string">&quot;oc&quot;</span>, <span class="hljs-string">&quot;get&quot;</span>, <span class="hljs-string">&quot;replicationcontroller&quot;</span>, <span class="hljs-string">&quot;docker-registry-3&quot;</span>, <span class="hljs-string">&quot;--namespace&quot;</span>, <span class="hljs-string">&quot;default&quot;</span>, <span class="hljs-string">&quot;--config&quot;</span>, <span class="hljs-string">&quot;/etc/origin/master/admin.kubeconfig&quot;</span>, <span class="hljs-string">&quot;-o&quot;</span>, <span class="hljs-string">&quot;jsonpath={ .metadata.annotations.openshift\\.io/deployment\\.phase }&quot;</span>], <span class="hljs-string">&quot;delta&quot;</span>: <span class="hljs-string">&quot;0:00:00.196019&quot;</span>, <span class="hljs-string">&quot;end&quot;</span>: <span class="hljs-string">&quot;2018-06-17 10:14:37.184958&quot;</span>, <span class="hljs-string">&quot;failed&quot;</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">&quot;failed_when_result&quot;</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">&quot;item&quot;</span>: [{<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;docker-registry&quot;</span>, <span class="hljs-string">&quot;namespace&quot;</span>: <span class="hljs-string">&quot;default&quot;</span>}, {<span class="hljs-string">&quot;_ansible_ignore_errors&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-string">&quot;_ansible_item_result&quot;</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">&quot;_ansible_no_log&quot;</span>: <span class="hljs-literal">false</span>, <span class="hljs-string">&quot;_ansible_parsed&quot;</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">&quot;changed&quot;</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">&quot;cmd&quot;</span>: [<span class="hljs-string">&quot;oc&quot;</span>, <span class="hljs-string">&quot;get&quot;</span>, <span class="hljs-string">&quot;deploymentconfig&quot;</span>, <span class="hljs-string">&quot;docker-registry&quot;</span>, <span class="hljs-string">&quot;--namespace&quot;</span>, <span class="hljs-string">&quot;default&quot;</span>, <span class="hljs-string">&quot;--config&quot;</span>, <span class="hljs-string">&quot;/etc/origin/master/admin.kubeconfig&quot;</span>, <span class="hljs-string">&quot;-o&quot;</span>, <span class="hljs-string">&quot;jsonpath={ .status.latestVersion }&quot;</span>], <span class="hljs-string">&quot;delta&quot;</span>: <span class="hljs-string">&quot;0:00:00.227236&quot;</span>, <span class="hljs-string">&quot;end&quot;</span>: <span class="hljs-string">&quot;2018-06-17 10:04:10.045056&quot;</span>, <span class="hljs-string">&quot;failed&quot;</span>: <span class="hljs-literal">false</span>, <span class="hljs-string">&quot;invocation&quot;</span>: {<span class="hljs-string">&quot;module_args&quot;</span>: {<span class="hljs-string">&quot;_raw_params&quot;</span>: <span class="hljs-string">&quot;oc get deploymentconfig docker-registry --namespace default --config /etc/origin/master/admin.kubeconfig -o jsonpath=&apos;{ .status.latestVersion }&apos;&quot;</span>, <span class="hljs-string">&quot;_uses_shell&quot;</span>: <span class="hljs-literal">false</span>, <span class="hljs-string">&quot;chdir&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-string">&quot;creates&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-string">&quot;executable&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-string">&quot;removes&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-string">&quot;stdin&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-string">&quot;warn&quot;</span>: <span class="hljs-literal">true</span>}}, <span class="hljs-string">&quot;item&quot;</span>: {<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;docker-registry&quot;</span>, <span class="hljs-string">&quot;namespace&quot;</span>: <span class="hljs-string">&quot;default&quot;</span>}, <span class="hljs-string">&quot;rc&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;start&quot;</span>: <span class="hljs-string">&quot;2018-06-17 10:04:09.817820&quot;</span>, <span class="hljs-string">&quot;stderr&quot;</span>: <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;stderr_lines&quot;</span>: [], <span class="hljs-string">&quot;stdout&quot;</span>: <span class="hljs-string">&quot;3&quot;</span>, <span class="hljs-string">&quot;stdout_lines&quot;</span>: [<span class="hljs-string">&quot;3&quot;</span>]}], <span class="hljs-string">&quot;rc&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;start&quot;</span>: <span class="hljs-string">&quot;2018-06-17 10:14:36.988939&quot;</span>, <span class="hljs-string">&quot;stderr&quot;</span>: <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;stderr_lines&quot;</span>: [], <span class="hljs-string">&quot;stdout&quot;</span>: <span class="hljs-string">&quot;Failed&quot;</span>, <span class="hljs-string">&quot;stdout_lines&quot;</span>: [<span class="hljs-string">&quot;Failed&quot;</span>]}
	to retry, use: --limit @/usr/share/ansible/openshift-ansible/playbooks/deploy_cluster.retry

PLAY RECAP ***********************************************************************************************************************************************************************************
localhost                  : ok=<span class="hljs-number">13</span>   changed=<span class="hljs-number">0</span>    unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>
master.example.com         : ok=<span class="hljs-number">460</span>  changed=<span class="hljs-number">69</span>   unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">1</span>
nfs.example.com            : ok=<span class="hljs-number">30</span>   changed=<span class="hljs-number">1</span>    unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>
node1.example.com          : ok=<span class="hljs-number">120</span>  changed=<span class="hljs-number">13</span>   unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>
node2.example.com          : ok=<span class="hljs-number">120</span>  changed=<span class="hljs-number">13</span>   unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>


INSTALLER STATUS *****************************************************************************************************************************************************************************
Initialization             : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">31</span>)
Health Check               : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">05</span>)
etcd Install               : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">28</span>)
NFS Install                : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">54</span>)
Master Install             : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">07</span>:<span class="hljs-number">44</span>)
Master Additional Install  : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">33</span>)
Node Install               : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">01</span>:<span class="hljs-number">42</span>)
Hosted Install             : In Progress (<span class="hljs-number">0</span>:<span class="hljs-number">21</span>:<span class="hljs-number">02</span>)
	This phase can be restarted by running: playbooks/openshift-hosted/config.yml



Failure summary:


  <span class="hljs-number">1.</span> Hosts:    master.example.com
     Play:     Poll <span class="hljs-keyword">for</span> hosted pod deployments
     Task:     Poll <span class="hljs-keyword">for</span> OpenShift pod deployment success
     Message:  All items completed</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___14">&#x95EE;&#x9898;&#x539F;&#x56E0;</h3>
<div class="ulist">
<ul>
<li>
<p>docker-registry Mount NFS &#x670D;&#x52A1;&#x5668;&#x4E0D;&#x6210;&#x529F;&#xFF0C;docker-registry Pod Start Failed due to NFS Server mount registry-volume failed</p>
</li>
<li>
<p>mount.nfs: Protocol not supported</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="___15">&#x89E3;&#x51B3;&#x529E;&#x6CD5;</h3>
<div class="listingblock">
<div class="title"><strong>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;-1&#xFF1A;Skip hosted_manage_registry, &#x8BBE;&#x7F6E; openshift_hosted_manage_registry &#x4E3A; false&#xFF0C;&#x8FD9;&#x6837;&#x4F1A;&#x8DF3;&#x8FC7;&#x5B89;&#x88C5; docker-registry</strong></div>
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">openshift_hosted_manage_registry=<span class="hljs-literal">false</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___16">&#x5206;&#x6790;&#x6B65;&#x9AA4;</h3>
<div class="listingblock">
<div class="title"><strong>1 - &#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x67E5;&#x770B; docker-registry &#x76F8;&#x5173;&#x7684; Pod</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># oc get pods | grep docker-registry
docker-registry-3-deploy   1/1       Running             0          9m
docker-registry-3-g7l84    0/1       ContainerCreating   0          9m</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2 - docker-registry-deploy Pod &#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#x67E5;&#x770B;docker-registry Pod &#x542F;&#x52A8;&#x60C5;&#x51B5;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># oc describe po/docker-registry-3-g7l84
...
  Warning  FailedMount  8m  kubelet, node1.example.com  MountVolume.SetUp failed for volume &quot;registry-volume&quot; : mount failed: exit status 32
Mounting command: systemd-run
Mounting arguments: --description=Kubernetes transient mount for /var/lib/origin/openshift.local.volumes/pods/aee76710-76fd-11e8-956e-5254006bf7c5/volumes/kubernetes.io~nfs/registry-volume --scope -- mount -t nfs nfs.example.com:/exports/registry /var/lib/origin/openshift.local.volumes/pods/aee76710-76fd-11e8-956e-5254006bf7c5/volumes/kubernetes.io~nfs/registry-volume
Output: Running scope as unit run-2262.scope.
mount.nfs: Protocol not supported
...</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_apiserver_pod_can_not_resolve_the_etc_hostname">apiserver Pod can not resolve the etc hostname</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="___17">&#x5B89;&#x88C5;&#x73AF;&#x5883;</h3>
<div class="ulist">
<ul>
<li>
<p>OpenShift 3.9</p>
</li>
<li>
<p>RHEL 7.5</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="___18">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h3>
<div class="paragraph">
<p>Ansible &#x6267;&#x884C; playbooks deploy_cluster.yml &#x8FC7;&#x7A0B;&#x62A5;&#x9519;&#xFF1A;</p>
</div>
<div class="listingblock">
<div class="title"><strong>&#x9519;&#x8BEF;&#x7C7B;&#x578B;&#x4E00;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">TASK [openshift_service_catalog : wait <span class="hljs-keyword">for</span> api server to be ready] ***************************************************************************************************************************
fatal: [master.example.com]: FAILED! =&gt; {<span class="hljs-string">&quot;attempts&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;changed&quot;</span>: <span class="hljs-literal">false</span>, <span class="hljs-string">&quot;connection&quot;</span>: <span class="hljs-string">&quot;close&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;[+]ping ok\n[+]poststarthook/generic-apiserver-start-informers ok\n[+]poststarthook/start-service-catalog-apiserver-informers ok\n[-]etcd failed: reason withheld\nhealthz check failed\n&quot;</span>, <span class="hljs-string">&quot;content_length&quot;</span>: <span class="hljs-string">&quot;180&quot;</span>, <span class="hljs-string">&quot;content_type&quot;</span>: <span class="hljs-string">&quot;text/plain; charset=utf-8&quot;</span>, <span class="hljs-string">&quot;date&quot;</span>: <span class="hljs-string">&quot;Sat, 23 Jun 2018 23:29:40 GMT&quot;</span>, <span class="hljs-string">&quot;failed&quot;</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-string">&quot;Status code was not [200]: HTTP Error 500: Internal Server Error&quot;</span>, <span class="hljs-string">&quot;redirected&quot;</span>: <span class="hljs-literal">false</span>, <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-number">500</span>, <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;https://apiserver.kube-service-catalog.svc/healthz&quot;</span>, <span class="hljs-string">&quot;x_content_type_options&quot;</span>: <span class="hljs-string">&quot;nosniff&quot;</span>}
	to retry, use: --limit @/usr/share/ansible/openshift-ansible/playbooks/deploy_cluster.retry

PLAY RECAP ***********************************************************************************************************************************************************************************
localhost                  : ok=<span class="hljs-number">13</span>   changed=<span class="hljs-number">0</span>    unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>
master.example.com         : ok=<span class="hljs-number">641</span>  changed=<span class="hljs-number">130</span>  unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">1</span>
nfs.example.com            : ok=<span class="hljs-number">29</span>   changed=<span class="hljs-number">1</span>    unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>
node1.example.com          : ok=<span class="hljs-number">120</span>  changed=<span class="hljs-number">13</span>   unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>
node2.example.com          : ok=<span class="hljs-number">120</span>  changed=<span class="hljs-number">13</span>   unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>


INSTALLER STATUS *****************************************************************************************************************************************************************************
Initialization             : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">32</span>)
Health Check               : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">04</span>)
etcd Install               : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">30</span>)
NFS Install                : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">38</span>)
Master Install             : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">01</span>:<span class="hljs-number">34</span>)
Master Additional Install  : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">28</span>)
Node Install               : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">01</span>:<span class="hljs-number">37</span>)
Hosted Install             : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">31</span>)
Metrics Install            : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">01</span>:<span class="hljs-number">42</span>)
Service Catalog Install    : In Progress (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">48</span>)
	This phase can be restarted by running: playbooks/openshift-service-catalog/config.yml



Failure summary:


  <span class="hljs-number">1.</span> Hosts:    master.example.com
     Play:     Service Catalog
     Task:     wait <span class="hljs-keyword">for</span> api server to be ready
     Message:  Status code was not [<span class="hljs-number">200</span>]: HTTP <span class="hljs-built_in">Error</span> <span class="hljs-number">500</span>: Internal Server <span class="hljs-built_in">Error</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>&#x95EE;&#x9898;&#x63CF;&#x8FF0;&#x4E8C;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">TASK [openshift_service_catalog : wait <span class="hljs-keyword">for</span> api server to be ready] ***************************************************************************************************************************
fatal: [master.example.com]: FAILED! =&gt; {<span class="hljs-string">&quot;attempts&quot;</span>: <span class="hljs-number">60</span>, <span class="hljs-string">&quot;changed&quot;</span>: <span class="hljs-literal">false</span>, <span class="hljs-string">&quot;connection&quot;</span>: <span class="hljs-string">&quot;close&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;Too many requests, please try again later.\n&quot;</span>, <span class="hljs-string">&quot;content_length&quot;</span>: <span class="hljs-string">&quot;43&quot;</span>, <span class="hljs-string">&quot;content_type&quot;</span>: <span class="hljs-string">&quot;text/plain; charset=utf-8&quot;</span>, <span class="hljs-string">&quot;date&quot;</span>: <span class="hljs-string">&quot;Sun, 24 Jun 2018 06:28:47 GMT&quot;</span>, <span class="hljs-string">&quot;failed&quot;</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">&quot;msg&quot;</span>: <span class="hljs-string">&quot;Status code was not [200]: HTTP Error 429: Too Many Requests&quot;</span>, <span class="hljs-string">&quot;redirected&quot;</span>: <span class="hljs-literal">false</span>, <span class="hljs-string">&quot;retry_after&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-number">429</span>, <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;https://apiserver.kube-service-catalog.svc/healthz&quot;</span>, <span class="hljs-string">&quot;x_content_type_options&quot;</span>: <span class="hljs-string">&quot;nosniff&quot;</span>}
	to retry, use: --limit @/usr/share/ansible/openshift-ansible/playbooks/deploy_cluster.retry

PLAY RECAP ***********************************************************************************************************************************************************************************
localhost                  : ok=<span class="hljs-number">13</span>   changed=<span class="hljs-number">0</span>    unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>
master.example.com         : ok=<span class="hljs-number">653</span>  changed=<span class="hljs-number">121</span>  unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">1</span>
nfs.example.com            : ok=<span class="hljs-number">29</span>   changed=<span class="hljs-number">1</span>    unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>
node1.example.com          : ok=<span class="hljs-number">120</span>  changed=<span class="hljs-number">13</span>   unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>
node2.example.com          : ok=<span class="hljs-number">120</span>  changed=<span class="hljs-number">13</span>   unreachable=<span class="hljs-number">0</span>    failed=<span class="hljs-number">0</span>


INSTALLER STATUS *****************************************************************************************************************************************************************************
Initialization             : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">57</span>)
Health Check               : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">07</span>)
etcd Install               : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">48</span>)
NFS Install                : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">01</span>:<span class="hljs-number">03</span>)
Master Install             : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">02</span>:<span class="hljs-number">50</span>)
Master Additional Install  : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">00</span>:<span class="hljs-number">35</span>)
Node Install               : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">01</span>:<span class="hljs-number">54</span>)
Hosted Install             : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">11</span>:<span class="hljs-number">11</span>)
Metrics Install            : Complete (<span class="hljs-number">0</span>:<span class="hljs-number">01</span>:<span class="hljs-number">53</span>)
Service Catalog Install    : In Progress (<span class="hljs-number">0</span>:<span class="hljs-number">11</span>:<span class="hljs-number">10</span>)
	This phase can be restarted by running: playbooks/openshift-service-catalog/config.yml



Failure summary:


  <span class="hljs-number">1.</span> Hosts:    master.example.com
     Play:     Service Catalog
     Task:     wait <span class="hljs-keyword">for</span> api server to be ready
     Message:  Status code was not [<span class="hljs-number">200</span>]: HTTP <span class="hljs-built_in">Error</span> <span class="hljs-number">429</span>: Too Many Requests</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___19">&#x95EE;&#x9898;&#x539F;&#x56E0;</h3>
<div class="paragraph">
<p>apiserver POD &#x4E2D; DNS &#x65E0;&#x6CD5;&#x89E3;&#x6790;&#x5BFC;&#x81F4; <a href="https://apiserver.kube-service-catalog.svc/healthz" class="bare" target="_blank">https://apiserver.kube-service-catalog.svc/healthz</a> &#x8C03;&#x8FD0;&#x5931;&#x8D25;&#x3002;</p>
</div>
</div>
<div class="sect2">
<h3 id="___20">&#x89E3;&#x51B3;&#x65B9;&#x6CD5;</h3>
<div class="paragraph">
<p>NOTE&#xFF1A;&#x5982;&#x4E0B;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#x90FD;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x9009;&#x62E9;&#x5176;&#x4E2D;&#x4EFB;&#x610F;&#x4E00;&#x79CD;&#x5373;&#x53EF;&#x3002;</p>
</div>
<div class="sect3">
<h4 id="__dns">&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x4E00;&#xFF1A; &#x5728; DNS &#x670D;&#x52A1;&#x4E2D;&#x6DFB;&#x52A0;&#x9759;&#x6001;&#x5730;&#x5740;&#x6620;&#x5C04;</h4>
<div class="listingblock">
<div class="title"><strong>1 - &#x7F16;&#x8F91; /etc/dnsmasq.d/openshift-cluster.conf&#xFF0C;&#x6DFB;&#x52A0;&#x9759;&#x6001;&#x57DF;&#x540D;&#x6620;&#x5C04;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">local=/example.com/
address=/.apps.example.com/192.168.122.101
address=/master.example.com/192.168.122.101
address=/node1.example.com/192.168.122.105
address=/node2.example.com/192.168.122.106</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2 - &#x91CD;&#x542F; DNS &#x670D;&#x52A1;&#x5668;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># systemctl restart dnsmasq.service
# systemctl status dnsmasq.service</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>3 - &#x9A8C;&#x8BC1; DNS &#x89E3;&#x6790;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># for i in master node1 node2 ; do ssh $i.example.com &apos;dig master.example.com +short&apos; ; done
192.168.122.101
192.168.122.101
192.168.122.101

# oc rsh apiserver-n56cp
sh-4.2# curl --cacert /etc/origin/master/master.etcd-ca.crt --cert /etc/origin/master/master.etcd-client.crt --key /etc/origin/master/master.etcd-client.key -X GET https://master.example.com:2379/version
{&quot;etcdserver&quot;:&quot;3.2.18&quot;,&quot;etcdcluster&quot;:&quot;3.2.0&quot;}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>4 - &#x91CD;&#x65B0;&#x5B89;&#x88C5; service catalog</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># ansible-playbook /usr/share/ansible/openshift-ansible/playbooks/openshift-service-catalog/config.yml</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__dns_2">&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x4E8C;&#xFF1A;&#x89E3;&#x51B3; DNS &#x670D;&#x52A1;&#x5668;&#x4E0D;&#x52A0;&#x8F7D;&#x9759;&#x6001;&#x57DF;&#x540D;&#x6620;&#x5C04;&#x7684;&#x95EE;&#x9898;</h4>
<div class="paragraph">
<p>Base on DNS concepts, the DNS server like dnsmasq should parse <code>/etc/hosts</code> and add all static mapping as a DNS records accordingly, find the root reason why dnsmasq not load <code>/etc/hosts</code> and resolve it also can resolve this issue.</p>
</div>
<div class="paragraph">
<p>Check from journal logs in my environment which run the DNS server, I can find the error like <code>failed to load names from /etc/hosts: Permission denied</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="__pod">&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x4E09;&#xFF1A;&#x5728; POD &#x4E2D;&#x6DFB;&#x52A0;&#x9759;&#x6001;&#x57DF;&#x540D;</h4>
<div class="paragraph">
<p>&#x5728; apiserver POD &#x4E2D;&#x6DFB;&#x52A0;&#x9759;&#x6001;&#x57DF;&#x540D;&#x89E3;&#x6790;&#xFF0C;&#x4F8B;&#x5982; <code>oc rsh apiserver-nkt5k &amp;&amp; echo &quot;192.168.122.101 master.example.com&quot; &gt;&gt; /etc/hosts</code></p>
</div>
<div class="paragraph">
<p>NOTE&#xFF1A;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x9002;&#x5408; POD &#x914D;&#x7F6E;&#x6301;&#x4E45;&#x5316; PV&#xFF0C;&#x5C06;&#x4E00;&#x4E9B;&#x7ED3;&#x679C;&#x6301;&#x4E45;&#x5316;&#x5230;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="___21">&#x5206;&#x6790;&#x6B65;&#x9AA4;</h3>
<div class="sect3">
<h4 id="__apiserver_dns">&#x9A8C;&#x8BC1; apiserver &#x4E2D;&#x662F;&#x5426;&#x53EF;&#x8FDB;&#x884C; DNS &#x89E3;&#x6790;</h4>
<div class="listingblock">
<div class="title"><strong>1 - &#x6D4B;&#x8BD5;&#x670D;&#x52A1;&#x662F;&#x5426;&#x53EF;&#x8FBE;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># curl -k https://apiserver.kube-service-catalog.svc/healthz
[+]ping ok
[+]poststarthook/generic-apiserver-start-informers ok
[+]poststarthook/start-service-catalog-apiserver-informers ok
[-]etcd failed: reason withheld
healthz check failed</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2 - oc edit ds/apiserver &#x67E5;&#x770B; etcd &#x670D;&#x52A1;&#x5730;&#x5740;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text">    spec:
      containers:
      - args:
        - apiserver
        - --storage-type
        - etcd
        - --secure-port
        - &quot;6443&quot;
        - --etcd-servers
        - https://master.example.com:2379
        - --etcd-cafile
        - /etc/origin/master/master.etcd-ca.crt
        - --etcd-certfile
        - /etc/origin/master/master.etcd-client.crt
        - --etcd-keyfile
        - /etc/origin/master/master.etcd-client.key</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>3 - &#x67E5;&#x770B;&#x670D;&#x52A1;&#x662F;&#x5426;&#x53EF;&#x8FBE;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># etcdctl -C https://master.example.com:2379 --ca-file /etc/origin/master/master.etcd-ca.crt --cert-file /etc/origin/master/master.etcd-client.crt  --key-file /etc/origin/master/master.etcd-client.key ls

# oc rsh apiserver-56p7q
# curl --cacert /etc/origin/master/master.etcd-ca.crt --cert /etc/origin/master/master.etcd-client.crt --key /etc/origin/master/master.etcd-client.key -X GET https://master.example.com:2379/version
curl: (6) Could not resolve host: master.example.com; Unknown error</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>4 - IP &#x5730;&#x5740;&#x66FF;&#x6362;&#x57DF;&#x540D;&#x540E;&#x7EE7;&#x7EED;&#x7B2C;&#x4E09;&#x6B65;&#x64CD;&#x4F5C;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># etcdctl -C https://192.168.56.66:2379 --ca-file /etc/origin/master/master.etcd-ca.crt --cert-file /etc/origin/master/master.etcd-client.crt  --key-file /etc/origin/master/master.etcd-client.key ls

# oc rsh apiserver-56p7q
# curl --cacert /etc/origin/master/master.etcd-ca.crt --cert /etc/origin/master/master.etcd-client.crt --key /etc/origin/master/master.etcd-client.key -X GET https://192.168.56.66:2379/version
{&quot;etcdserver&quot;:&quot;3.2.18&quot;,&quot;etcdcluster&quot;:&quot;3.2.0&quot;}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>5 - &#x67E5;&#x770B; api POD &#x9759;&#x6001;&#x57DF;&#x540D;&#x914D;&#x7F6E;&#x53CA;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># oc rsh apiserver-56p7q

sh-4.2# cat /etc/hosts
# Kubernetes-managed hosts file.
127.0.0.1	localhost
::1	localhost ip6-localhost ip6-loopback
fe00::0	ip6-localnet
fe00::0	ip6-mcastprefix
fe00::1	ip6-allnodes
fe00::2	ip6-allrouters
10.244.0.15	apiserver-56p7q

sh-4.2# cat /etc/resolv.conf
nameserver 192.168.122.101
search kube-service-catalog.svc.cluster.local svc.cluster.local cluster.local example.com
options ndots:5</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__dns_3">&#x67E5;&#x770B; DNS &#x76F8;&#x5173;&#x914D;&#x7F6E;&#x53CA;&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x89E3;&#x6790;</h4>
<div class="listingblock">
<div class="title"><strong>1 - &#x67E5;&#x770B; ifcfg &#x4E2D; DNS &#x914D;&#x7F6E;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># for i in master node1 node2 ; do ssh $i.example.com &apos;hostname ; cat /etc/sysconfig/network-scripts/ifcfg-eth0 | grep DNS; echo&apos; ; done
master.example.com
DNS1=192.168.122.101

node1.example.com
DNS1=192.168.122.101

node2.example.com
DNS1=192.168.122.101</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>2 - &#x67E5;&#x770B; resolv.conf &#x914D;&#x7F6E;&#x6587;&#x4EF6;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># for i in master node1 node2 ; do ssh $i.example.com &apos;hostname ; cat /etc/resolv.conf ; echo&apos; ; done
master.example.com
# nameserver updated by /etc/NetworkManager/dispatcher.d/99-origin-dns.sh
# Generated by NetworkManager
search cluster.local example.com
nameserver 192.168.122.101

node1.example.com
# nameserver updated by /etc/NetworkManager/dispatcher.d/99-origin-dns.sh
# Generated by NetworkManager
search cluster.local example.com
nameserver 192.168.122.105

node2.example.com
# nameserver updated by /etc/NetworkManager/dispatcher.d/99-origin-dns.sh
# Generated by NetworkManager
search cluster.local example.com
nameserver 192.168.122.106</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><strong>3 - ping domain master.example.com</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># for i in master node1 node2 ; do ssh $i.example.com &apos;hostname ; ping master.example.com -c1 ; echo&apos; ; done
master.example.com
PING master.example.com (192.168.122.101) 56(84) bytes of data.
64 bytes from master.example.com (192.168.122.101): icmp_seq=1 ttl=64 time=0.049 ms

--- master.example.com ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.049/0.049/0.049/0.000 ms

node1.example.com
PING master.example.com (192.168.122.101) 56(84) bytes of data.
64 bytes from master.example.com (192.168.122.101): icmp_seq=1 ttl=64 time=0.238 ms

--- master.example.com ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.238/0.238/0.238/0.000 ms

node2.example.com
PING master.example.com (192.168.122.101) 56(84) bytes of data.
64 bytes from master.example.com (192.168.122.101): icmp_seq=1 ttl=64 time=0.116 ms

--- master.example.com ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.116/0.116/0.116/0.000 ms</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<strong>&#x7B2C;&#x4E09;&#x6B65; ping &#x662F;&#x53EF;&#x8FBE;&#x7684;</strong>&#x3002;
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title"><strong>4 - dig &#x5206;&#x6790;&#x57DF;&#x540D;&#x89E3;&#x6790;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># for i in master node1 node2 ; do ssh $i.example.com &apos;dig test.apps.example.com +short ; echo&apos; ; done
192.168.122.101

192.168.122.101

192.168.122.101


# for i in master node1 node2 ; do ssh $i.example.com &apos;dig master.example.com +short; echo&apos; ; done</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<strong>dig &#x5206;&#x6790;&#x7684;&#x7ED3;&#x679C;&#x663E;&#x793A; DNS &#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x591F;&#x89E3;&#x6790; master.example.com&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x89E3;&#x6790;&#x5E94;&#x7528;&#x5730;&#x5740; test.apps.example.com</strong>&#x3002;
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title"><strong>5 - nslookup &#x8FDB;&#x4E00;&#x6B65;&#x5206;&#x6790;&#x57DF;&#x540D;&#x89E3;&#x6790;</strong></div>
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># for i in master node1 node2 ; do ssh $i.example.com &apos;nslookup test.apps.example.com ; echo&apos; ; done
Server:		192.168.122.101
Address:	192.168.122.101#53

Name:	test.apps.example.com
Address: 192.168.122.101


Server:		192.168.122.105
Address:	192.168.122.105#53

Name:	test.apps.example.com
Address: 192.168.122.101


Server:		192.168.122.106
Address:	192.168.122.106#53

Name:	test.apps.example.com
Address: 192.168.122.101


# for i in master node1 node2 ; do ssh $i.example.com &apos;nslookup master.example.com ; echo&apos; ; done
Server:		192.168.122.101
Address:	192.168.122.101#53

** server can&apos;t find master.example.com: NXDOMAIN


Server:		192.168.122.105
Address:	192.168.122.105#53

** server can&apos;t find master.example.com: NXDOMAIN


Server:		192.168.122.106
Address:	192.168.122.106#53

** server can&apos;t find master.example.com: NXDOMAIN</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<strong>&#x548C;&#x7B2C;&#x56DB;&#x6B65;&#x5F97;&#x51FA;&#x7684;&#x7ED3;&#x8BBA;&#x4E00;&#x6837;&#xFF0C;DNS &#x670D;&#x52A1;&#x5668;&#x4E0D;&#x80FD;&#x591F;&#x89E3;&#x6790; master.example.com&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x89E3;&#x6790;&#x5E94;&#x7528;&#x5730;&#x5740; test.apps.example.com</strong>&#x3002;
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="__dns_4">&#x67E5;&#x770B; DNS &#x670D;&#x52A1;&#x5668;&#x8FD0;&#x884C;&#x72B6;&#x6001;</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-text" data-lang="text"># systemctl status dnsmasq.service
&#x25CF; dnsmasq.service - DNS caching server.
   Loaded: loaded (/usr/lib/systemd/system/dnsmasq.service; enabled; vendor preset: disabled)
   Active: active (running) since Tue 2018-07-03 10:32:22 CST; 1s ago
 Main PID: 30605 (dnsmasq)
    Tasks: 1
   Memory: 940.0K
   CGroup: /system.slice/dnsmasq.service
           &#x2514;&#x2500;30605 /usr/sbin/dnsmasq -k

Jul 03 10:32:22 master.example.com dnsmasq[30605]: using nameserver 127.0.0.1#53 for domain cluster.local
Jul 03 10:32:22 master.example.com dnsmasq[30605]: using nameserver 127.0.0.1#53 for domain in-addr.arpa
Jul 03 10:32:22 master.example.com dnsmasq[30605]: using nameserver 127.0.0.1#53 for domain in-addr.arpa
Jul 03 10:32:22 master.example.com dnsmasq[30605]: using nameserver 127.0.0.1#53 for domain cluster.local
Jul 03 10:32:23 master.example.com dnsmasq[30605]: setting upstream servers from DBus
Jul 03 10:32:23 master.example.com dnsmasq[30605]: using local addresses only for domain example.com
Jul 03 10:32:23 master.example.com dnsmasq[30605]: using nameserver 127.0.0.1#53 for domain cluster.local
Jul 03 10:32:23 master.example.com dnsmasq[30605]: using nameserver 127.0.0.1#53 for domain in-addr.arpa
Jul 03 10:32:23 master.example.com dnsmasq[30605]: using nameserver 127.0.0.1#53 for domain in-addr.arpa
Jul 03 10:32:23 master.example.com dnsmasq[30605]: using nameserver 127.0.0.1#53 for domain cluster.local</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="add-nodes.html" class="navigation navigation-prev " aria-label="Previous page: 节点扩展">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../advanced-deployment.html" class="navigation navigation-next " aria-label="Next page: 高级部署">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"常见问题","level":"1.4.2.8","depth":3,"next":{"title":"高级部署","level":"1.4.3","depth":2,"path":"openshift/advanced-deployment.adoc","ref":"openshift/advanced-deployment.adoc","articles":[]},"previous":{"title":"节点扩展","level":"1.4.2.7","depth":3,"path":"openshift/install/add-nodes.adoc","ref":"openshift/install/add-nodes.adoc","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"GUID":"na39","OCP_USER_ID":"ksoong-redhat.com","copyrightYear":"2018","copyrightHolder":"Kylin Soong"},"plugins":["collapsible-menu","donate","-sharing","sharing-plus","splitter","back-to-top-button","edit-link"],"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy Kylin Soong 2018","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"collapsible-menu":{},"splitter":{},"search":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"donate":{"alipay":"http://ksoong.org/docs/content/images/alipay.png","alipayText":"支付宝捐赠","button":"赞赏","title":"","wechat":"http://ksoong.org/docs/content/images/wechat.png","wechatText":"微信捐赠"},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"back-to-top-button":{},"sharing":{"weibo":true,"linkedin":true,"google":true,"facebook":true,"all":["facebook","google","linkedin","weibo"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/kylinsoong/docs/blob/gh-pages"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css"}},"file":{"path":"openshift/install/qa.adoc","mtime":"2020-01-27T15:48:42.188Z","type":"asciidoc"},"gitbook":{"version":"3.2.3","time":"2022-02-25T03:07:49.301Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

